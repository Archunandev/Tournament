
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
									<title>Free Fire Tournaments. Play Free Fire Esports Online India</title>
					
		
		<link rel="stylesheet" href="https://www.ultimatebattle.in/wp-content/themes/blackfyre/style.css?ver=1.3.0" />	
		<link rel="preload" href="https://www.ultimatebattle.in/wp-includes/js/jquery/jquery.js" as="script" />	
		<link rel="preload" href="https://www.ultimatebattle.in/wp-includes/js/jquery/jquery-migrate.min.js" as="script" />	
		<link href="https://www.ultimatebattle.in/wp-content/themes/blackfyre/css/font-awesome.css" crossorigin />	
		
<!-- This site is optimized with the Yoast SEO plugin v5.7.1 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="Ultimate battle invites Free Fire gamers to play Free Fire Tournaments and Challenges in India. Join the Free Fire Community."/>
<link rel="canonical" href="https://www.ultimatebattle.in/free-fire.html" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Free Fire Tournaments. Play Free Fire Esports Online India" />
<meta property="og:description" content="Ultimate battle invites Free Fire gamers to play Free Fire Tournaments and Challenges in India. Join the Free Fire Community." />
<meta property="og:url" content="https://www.ultimatebattle.in/free-fire.html" />
<meta property="og:image" content="https://www.ultimatebattle.in/wp-content/uploads/2019/09/freefire-max-game-page-banner.png" />
<meta property="og:image:secure_url" content="https://www.ultimatebattle.in/wp-content/uploads/2019/09/freefire-max-game-page-banner.png" />
<meta property="og:image:width" content="1349" />
<meta property="og:image:height" content="310" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="Ultimate battle invites Free Fire gamers to play Free Fire Tournaments and Challenges in India. Join the Free Fire Community." />
<meta name="twitter:title" content="Free Fire Tournaments. Play Free Fire Esports Online India" />
<meta name="twitter:image" content="https://www.ultimatebattle.in/wp-content/uploads/2019/09/freefire-max-game-page-banner.png" />
<script type='application/ld+json'>{"@context":"http:\/\/schema.org","@type":"WebSite","@id":"#website","url":"https:\/\/www.ultimatebattle.in\/","name":"","potentialAction":{"@type":"SearchAction","target":"https:\/\/www.ultimatebattle.in\/?s={search_term_string}","query-input":"required name=search_term_string"}}</script>
<!-- / Yoast SEO plugin. -->

<link rel='dns-prefetch' href='//cdn.onesignal.com' />
<link rel='dns-prefetch' href='//www.google.com' />
<link rel='dns-prefetch' href='//code.jquery.com' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.ultimatebattle.in\/wp-includes\/js\/wp-emoji-release.min.js"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b!==c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='ubsstyle-css'  href='https://www.ultimatebattle.in/wp-content/plugins/ub-stats/includes/css/style.css' type='text/css' media='all' />
<link rel='stylesheet' id='bradmax-player-css'  href='https://www.ultimatebattle.in/wp-content/plugins/bradmax-player/assets/css/style.css' type='text/css' media='all' />
<link rel='stylesheet' id='bp-parent-css-css'  href='https://www.ultimatebattle.in/wp-content/themes/blackfyre/css/buddypress.css' type='text/css' media='screen' />
<link rel='stylesheet' id='woocommerce-layout-css'  href='https://www.ultimatebattle.in/wp-content/plugins/woocommerce/assets/css/woocommerce-layout.css' type='text/css' media='all' />
<link rel='stylesheet' id='woocommerce-smallscreen-css'  href='https://www.ultimatebattle.in/wp-content/plugins/woocommerce/assets/css/woocommerce-smallscreen.css' type='text/css' media='only screen and (max-width: 768px)' />
<link rel='stylesheet' id='woocommerce-general-css'  href='https://www.ultimatebattle.in/wp-content/plugins/woocommerce/assets/css/woocommerce.css' type='text/css' media='all' />
<style id='woocommerce-inline-inline-css' type='text/css'>
.woocommerce form .form-row .required { visibility: visible; }
</style>
<link rel='stylesheet' id='googlefonts-css'  href='https://fonts.googleapis.com/css?family=Roboto:400|ABeeZee:400&subset=latin' type='text/css' media='all' />
<link rel='stylesheet' id='sumoselectcss-css'  href='https://www.ultimatebattle.in/wp-content/themes/blackfyre/css/sumoselect.css' type='text/css' media='all' />
<link rel='stylesheet' id='scrollpanecss-css'  href='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/scroll/jquery.jscrollpane.css' type='text/css' media='all' />
<link rel='stylesheet' id='ubnivo-css'  href='https://www.ultimatebattle.in/wp-content/themes/blackfyre/css/nivo-slider.css' type='text/css' media='all' />
<link rel='stylesheet' id='custom-style2-css'  href='https://www.ultimatebattle.in/wp-content/themes/blackfyre/css/jquery.bxslider.css' type='text/css' media='all' />
<link rel='stylesheet' id='vcfixes-css'  href='https://www.ultimatebattle.in/wp-content/themes/blackfyre/css/vcfixes.css' type='text/css' media='all' />
<link rel='stylesheet' id='buttons-css'  href='https://www.ultimatebattle.in/wp-includes/css/buttons.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='dashicons-css'  href='https://www.ultimatebattle.in/wp-includes/css/dashicons.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='mediaelement-css'  href='https://www.ultimatebattle.in/wp-includes/js/mediaelement/mediaelementplayer.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='wp-mediaelement-css'  href='https://www.ultimatebattle.in/wp-includes/js/mediaelement/wp-mediaelement.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='media-views-css'  href='https://www.ultimatebattle.in/wp-includes/css/media-views.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='imgareaselect-css'  href='https://www.ultimatebattle.in/wp-includes/js/imgareaselect/imgareaselect.css' type='text/css' media='all' />
<link rel='stylesheet' id='wp-social-sharing-css'  href='https://www.ultimatebattle.in/wp-content/plugins/wp-social-sharing/static/socialshare.css' type='text/css' media='all' />
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/plugins/bradmax-player/assets/js/bradmax_player.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/jquery/jquery.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/jquery/jquery-migrate.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var BP_Confirm = {"are_you_sure":"Are you sure?"};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/plugins/buddypress/bp-core/js/confirm.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/plugins/buddypress/bp-core/js/widget-members.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/plugins/buddypress/bp-core/js/jquery-query.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/plugins/buddypress/bp-core/js/vendor/jquery-cookie.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/plugins/buddypress/bp-core/js/vendor/jquery-scroll-to.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var BP_DTheme = {"accepted":"Accepted","close":"Close","comments":"comments","leave_group_confirm":"Are you sure you want to leave this group?","mark_as_fav":"Favorite","my_favs":"My Favorites","rejected":"Rejected","remove_fav":"Remove Favorite","show_all":"Show all","show_all_comments":"Show all comments for this thread","show_x_comments":"Show all comments (%d)","unsaved_changes":"Your profile has unsaved changes. If you leave the page, the changes will be lost.","view":"View"};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/plugins/buddypress/bp-templates/bp-legacy/js/buddypress.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/jquery.sumoselect.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/bootstrap4.min.js'></script>
<script type='text/javascript' src='https://www.google.com/recaptcha/api.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/meanmenu.js'></script>
<script type='text/javascript' src='https://code.jquery.com/ui/1.11.1/jquery-ui.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/scroll/jquery.mousewheel.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/scroll/jquery.jscrollpane.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/main.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/jquery.fancybox.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var userSettings = {"url":"\/","uid":"0","time":"1678562557","secure":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/utils.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/plupload/plupload.full.min.js'></script>
<!--[if lt IE 8]>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/json2.min.js'></script>
<![endif]-->
<link rel='https://api.w.org/' href='https://www.ultimatebattle.in/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.ultimatebattle.in/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.ultimatebattle.in/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.8.3" />
<meta name="generator" content="WooCommerce 4.2.2" />
<link rel='shortlink' href='https://www.ultimatebattle.in/?p=12670' />
<link rel="alternate" type="application/json+oembed" href="https://www.ultimatebattle.in/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.ultimatebattle.in%2Ffree-fire.html" />
<link rel="alternate" type="text/xml+oembed" href="https://www.ultimatebattle.in/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.ultimatebattle.in%2Ffree-fire.html&#038;format=xml" />

	<script type="text/javascript">var ajaxurl = 'https://www.ultimatebattle.in/wp-admin/admin-ajax.php';</script>

<!--[if IE 9]> <script>var _gambitParallaxIE9 = true;</script> <![endif]--><style type='text/css' media='screen'>
	body{ font-family:&quot;Roboto&quot;, arial, sans-serif;}
	.navbar{ font-family:&quot;Roboto&quot;, arial, sans-serif;}
	h1{ font-family:&quot;Roboto&quot;, arial, sans-serif;}
	h2{ font-family:&quot;Roboto&quot;, arial, sans-serif;}
	h3{ font-family:&quot;Roboto&quot;, arial, sans-serif;}
	h4{ font-family:&quot;Roboto&quot;, arial, sans-serif;}
	h5{ font-family:&quot;Roboto&quot;, arial, sans-serif;}
	h6{ font-family:&quot;Roboto&quot;, arial, sans-serif;}
	blockquote{ font-family:&quot;Roboto&quot;, arial, sans-serif;}
	p{ font-family:&quot;Roboto&quot;, arial, sans-serif;}
	li{ font-family:&quot;Roboto&quot;, arial, sans-serif;}
	body{ font-family:&quot;ABeeZee&quot;, arial, sans-serif;}
	.navbar{ font-family:&quot;ABeeZee&quot;, arial, sans-serif;}
	h1{ font-family:&quot;ABeeZee&quot;, arial, sans-serif;}
	h2{ font-family:&quot;ABeeZee&quot;, arial, sans-serif;}
	h3{ font-family:&quot;ABeeZee&quot;, arial, sans-serif;}
	h4{ font-family:&quot;ABeeZee&quot;, arial, sans-serif;}
	h5{ font-family:&quot;ABeeZee&quot;, arial, sans-serif;}
	h6{ font-family:&quot;ABeeZee&quot;, arial, sans-serif;}
	blockquote{ font-family:&quot;ABeeZee&quot;, arial, sans-serif;}
	p{ font-family:&quot;ABeeZee&quot;, arial, sans-serif;}
	li{ font-family:&quot;ABeeZee&quot;, arial, sans-serif;}
</style>
<!-- fonts delivered by Wordpress Google Fonts, a plugin by Adrian3.com --><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="google-signin-client_id" content="947170542363-e3s902nn9ajj3v8i1ts8rjvl39bhhb9n.apps.googleusercontent.com" /><meta name="google-site-verification" content="z8h7UeJtu-PWGMQGRCGl3N1CFy8ZBQxZjsWT05OBDcwN-9ufqacZ0" /><meta name="title" content="A Gamer's Ecosystem Esports Company India" />
        <meta name="description" content="Ultimate Battle is an ESports platform that offers online tournaments and Gameplay for Mobile, PC, Console games in India. UB is a Gamer's Ecosystem." /><link rel="shortcut icon" href="https://www.ultimatebattle.in/wp-content/uploads/2015/02/ub-favicon-150x150.png"><link rel="manifest" href="https://www.ultimatebattle.in/manifest.json" />	<noscript><style>.woocommerce-product-gallery{ opacity: 1 !important; }</style></noscript>
			<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		<meta name="generator" content="Powered by Visual Composer - drag and drop page builder for WordPress."/>
<!--[if IE 8]><link rel="stylesheet" type="text/css" href="https://www.ultimatebattle.in/wp-content/themes/blackfyre/js_composer/assets/css/vc-ie8.css" media="screen"><![endif]--><noscript><style> .wpb_animate_when_almost_visible { opacity: 1; }</style></noscript>	
		<script src="https://js.pusher.com/3.2/pusher.min.js"></script>	
		<script>	
			let pusher = new Pusher('367d8d2414dcf3bb5111', {cluster: 'ap2', forceTLS: true});
		</script>
			
			
		<!--Start of Zendesk Chat Script-->	
		<!-- <script type="text/javascript">	
		window.$zopim||(function(d,s){var z=$zopim=function(c){z._.push(c)},$=z.s=	
		d.createElement(s),e=d.getElementsByTagName(s)[0];z.set=function(o){z.set.	
		_.push(o)};z._=[];z.set._=[];$.async=!0;$.setAttribute("charset","utf-8");	
		$.src="https://v2.zopim.com/?5H6bxXOfM1rkA1dJkXl45B1phfqIW3n0";z.t=+new Date;$.	
		type="text/javascript";e.parentNode.insertBefore($,e)})(document,"script");	
		</script> -->	
		<!--End of Zendesk Chat Script-->	
			

						
				<!-- Global site tag (gtag.js) - Google Analytics -->	
				<script async src="https://www.googletagmanager.com/gtag/js?id=UA-86483-43"></script>	
				<script>	
				window.dataLayer = window.dataLayer || [];	
				function gtag(){dataLayer.push(arguments);}	
				gtag('js', new Date());	
				gtag('config', 'UA-86483-43');	
				</script>	
				<!-- /google analytics -->				
				
		
		<!-- Facebook Pixel Code -->	
		<script>	
		  !function(f,b,e,v,n,t,s)	
		  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?	
		  n.callMethod.apply(n,arguments):n.queue.push(arguments)};	
		  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';	
		  n.queue=[];t=b.createElement(e);t.async=!0;	
		  t.src=v;s=b.getElementsByTagName(e)[0];	
		  s.parentNode.insertBefore(t,s)}(window, document,'script',	
		  'https://connect.facebook.net/en_US/fbevents.js');	
		  fbq('init', '437099226982165');	
		  fbq('track', 'PageView');	
		</script>	
		<noscript><img height="1" width="1" style="display:none"	
		  src="https://www.facebook.com/tr?id=437099226982165&ev=PageView&noscript=1"	
		/></noscript>	
		<!-- End Facebook Pixel Code -->	
		<!-- <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>	
		<script>	
		     (adsbygoogle = window.adsbygoogle || []).push({	
		          google_ad_client: "ca-pub-1266332067754233",	
		          enable_page_level_ads: true	
		     });	
		</script> -->	
				<script>
			const loadingSpinner = (size = 30) => `<img src="${themeDir}img/loading.gif" alt="Loading..." style="width: ${size}px; height: ${size}px" />`
			const currentUserId = +"0";
			const currentUsername = "";
			const themeDir = "https://www.ultimatebattle.in/wp-content/themes/blackfyre/";
			const siteUrl = "https://www.ultimatebattle.in/";
			const cuData = jQuery.parseJSON('{"ID":0,"user_login":false,"user_nicename":false,"user_email":false,"mobile":false,"display_name":false,"verified":false,"deleted":false}');
			const notificationSound = "https://www.ultimatebattle.in/ubchat/sounds-900-you-know.mp3";
			const isUserLoggedIn = !!"";
			const ues = !!+'';
		</script>
	</head>
		<body class="bp-legacy game-template-default single single-game postid-12670 single-format-standard woocommerce-no-js wpb-js-composer js-comp-ver-4.2.6 vc_responsive no-js">
				<div class="wrapper new gm    ">
			<header id="headercontainer" class="headersection ">
				<!-- header for ultimateesports.in -->
				
				<!-- haeder for ultimatebattle.in -->
									<!-- top section of header -->
					<div class="top-app-header">
						<div class="container">
														<div class="rt-nav">
								<ul>
                                                                        <li class="organizer-name">
                                    	<a href="https://www.ultimatebattle.in/organizer.html">Organize Event</a>
                                    </li>
                                    									<li><a href="https://shop.ultimatebattle.in">Gaming Store</a></li>
									<li><a href="https://news.ultimatebattle.in/">Esports News</a></li>
									<!--<li><a href="'.base_url('redeem-coins-shop.html').'">Redeem Coins</a></li>
									<li><a href="'.base_url('career.html').'">Career</a></li>
									<li><a href="'.base_url('about-us.html').'">About Us</a></li>-->
								</ul>
							</div>
						</div>
					</div>

					<!-- bottom section of header -->
					<div class="mid-app-header">
						<div class="container">	
							<div class="row">	
								<div class="col-lg-12">	
									<!-- Logo area -->
									<div class="ublogo">
										<a href="https://www.ultimatebattle.in">
											<img src="https://www.ultimatebattle.in/wp-content/uploads/2015/02/ub-logo-beta.png" alt="Ultimate Battle - Online Gaming">
										</a>
									</div>

									<!-- Game changer switch -->
																				<div class="gm-link-wp">	
												<button class="g-changer">Game Changer</button>	
												<div class="game-select">	
													<ul>
																											<li>	
															<a href="https://www.ultimatebattle.in/stumble-guys.html">	
																<img src="https://www.ultimatebattle.in/wp-content/uploads/2022/06/stuble-guys-game-logo.png" alt="Stumble Guys">
															</a>
														</li>
																											<li>	
															<a href="https://chess.ultimatebattle.in">	
																<img src="https://www.ultimatebattle.in/wp-content/uploads/2019/02/chess-logo-rev.png" alt="Chess">
															</a>
														</li>
																											<li>	
															<a href="https://www.ultimatebattle.in/cod-mobile.html">	
																<img src="https://www.ultimatebattle.in/wp-content/uploads/2020/03/cod-mobile-ultimate-battle.png" alt="Call of Duty Mobile">
															</a>
														</li>
																											<li>	
															<a href="https://www.ultimatebattle.in/free-fire.html">	
																<img src="https://www.ultimatebattle.in/wp-content/uploads/2019/09/Logo-Free-Fire-MAX-1.png" alt="Free Fire Max">
															</a>
														</li>
																											<li>	
															<a href="https://www.ultimatebattle.in/valorant.html">	
																<img src="https://www.ultimatebattle.in/wp-content/uploads/2020/09/VALORANT.png" alt="VALORANT">
															</a>
														</li>
																											<li>	
															<a href="https://www.ultimatebattle.in/fifa.html">	
																<img src="https://www.ultimatebattle.in/wp-content/uploads/2021/08/fifa.png" alt="FIFA">
															</a>
														</li>
																											<li>	
															<a href="https://www.ultimatebattle.in/clash-royale.html">	
																<img src="https://www.ultimatebattle.in/wp-content/uploads/2018/02/clash-royale.png" alt="Clash Royale">
															</a>
														</li>
																											<li>	
															<a href="https://www.ultimatebattle.in/mini-militia.html">	
																<img src="https://www.ultimatebattle.in/wp-content/uploads/2020/09/MINI-MILITIA-2.png" alt="MINI MILITIA">
															</a>
														</li>
																										</ul>
												</div>
											</div>
									<!-- bottom header right area -->
									<div class="UBheadrightsection">
										<!-- Download app button -->

										<!-- <a href="https://play.google.com/store/apps/details?id=com.brainpulse.ultimatebattle" target="_blank" class="ub2-app-download"><i class="fa fa-download" aria-hidden="true"></i> <span>Download</span> App</a> -->

										
										
										<a
											href="https://www.ultimatebattle.in/ub-android-app/ub.apk"
											class="ub2-app-download _mobile dwnloand-apk _da"
										>
											<i class="fa fa-download" aria-hidden="true"></i> <span>Download</span> App
										</a>

										<a
											href="https://www.ultimatebattle.in/ub-android-app/ub.apk"
											class="ub2-app-download _desktop _da"
										>
											<i class="fa fa-download" aria-hidden="true"></i> <span>Download</span> App
										</a>


										<!-- Mobile menu -->
										
										<!-- Login / Register box -->
										    <div class="ub_signup">
        <button
            id="login-reg-btn"
            class=""
                            onclick="displayUserRegistrationModal()"
                    >Login / Register</button>

        <div class="ub-login-drop">
            <div class="_ubcaret"><i class="fa fa-caret-up" aria-hidden="true"></i></div>   
            <div class="login-form-wrap">
                <form action="https://www.ultimatebattle.in/wp-login.php" method="post" onsubmit="return validateLoginForm()">

                    <div class="form-col">
                        <label>EMAIL / USERNAME</label>
                        <div class="ub-fields">
                            <input type="text" value="" name="log" id="lwa_user_login" placeholder="username or email" autofocus="" tabindex="1">
                        </div>
                    </div>

                    <div class="form-col">
                        <label>Password</label>
                        <div class="ub-fields">
                            <input type="password" value="" name="pwd" id="lwa_user_pass" placeholder="Password" tabindex="2">
                        </div>
                    </div>

                    <div class="form-col _rem-me">
                        <div class="ub-fields">
                                                        <input name="rememberme" type="checkbox" id="lwa_rememberme" value="forever" tabindex="3"> <label for="lwa_rememberme">Remember Me</label>  <a href="https://www.ultimatebattle.in/forgot-password.html">Forgot Password?</a>
                        </div>
                    </div>

                    <div class="form-sbt">  
                        <input type="hidden" name="redirect_to" value="https://www.ultimatebattle.in">
                        <input type="hidden" name="lwa_profile_link" value=""> 
                        <input type="submit" value="Login" name="" tabindex="4"> 
                        <a href="https://www.ultimatebattle.in/sign-up.html" class="register-pop-btn">Register</a>
                    </div>

                    <div class="loginwithsocial">
                        <hr />
                        <h3>SOCIAL LOGIN / REGISTER</h3>
                        <div class="_ub_sc">
                            <a href="https://www.ultimatebattle.in/facebook-login/fbconfig.php" class="fb"><i class="fa fa-facebook" aria-hidden="true"></i></a> 
                            <a href="https://accounts.google.com/o/oauth2/auth?scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fplus.me&redirect_uri=https%3A%2F%2Fwww.ultimatebattle.in%2Fgoogle-auth.php%2F&response_type=code&client_id=6365722435-npe7gbbgeo1f5eudgv9d6resg823sar4.apps.googleusercontent.com&access_type=online" class="gplus"><i class="fa fa-google" aria-hidden="true"></i></a>
                        </div>
                    </div>
                </form>
            </div>

            <div class="_ubsignupB">    
                <p class="alert alert-success" style="padding: 5px 5px 4px; font-size: 13px"><span class="alert-link">Register and Get Free <i class="fa fa-inr"></i>25 Bonus Cash</span></p>
            </div>
        </div>
    </div>									</div>
								</div>
							</div>
						</div>
					</div>
							</header>

            <script>
const createUserRegistrationModal = _ => {
    let modal = `<div class="modal fade process-model-app" id="myModal"  data-backdrop="static" data-keyboard="false" aria-hidden="false">
        <div class="modal-dialog modal-lg"> 
            <div class="modal-content">
                <button type="button" class="close_sign" data-dismiss="modal">X</button>

                <div class="ub-log-points-slide">
                    <div id="ub-log-points" class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <h3> <span>Play </span> game <br> and <span>earn</span> money</h3>
                            </div>
                            <div class="carousel-item">
                                <h3> Socialize<br> with gamers,<br> add friends,<br> create team,<br> etc. </h3>
                            </div>
                            <div class="carousel-item">
                                <h3><span>redeem</span><br> in game items<br> from <span>ub coins</span></h3>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="ub-org-model-row">
                    <div class="ub-og-model-form-bx">
                        <div class="ub-oranizer-process-model">
                            <!-- Step 1: Registration (mobile, TnC) -->
                            <div class="_ub_form-slides_row" id="form_stp1" style="left: 0px">
                                <div class="_ublogin-head-row">
                                    <h3>Create New Account</h3>
                                    <!-- <p>Please Login Or Signup To Continue</p> -->
                                </div>
                                <div class="_ubs_form-row-field">
                                    <label>Enter mobile Number</label>
                                    <div class="_ubs-form-fields full">
                                        <input type="text" name="mobile_number" value="" name="" class="tt-fields" maxlength="10">
                                    </div>
                                    <div class="_ubs-form-fields full">
                                        <p><input type="checkbox" id="i_agree_signup" name="i_agree_signup" value="1" checked="checked"> <label for="i_agree_signup" class="trm_ub">I agree to the <a href="${siteUrl}terms-and-conditions.html" target="_blank">terms and conditions</a></label></p>
                                    </div>
                                    <div class="_ubs-go-btn ">
                                        <button type="submit" class="get__btn" id="_btn_button1">Submit</button>
                                    </div>
                                    <div class="ald__">Already have an account? <a href="#" class="login-instead">Login</a></div>
                                </div>
                            </div>

                            <!-- Step 2: Registration (OTP) -->
                            <div class="_ub_form-slides_row" id="form_stp2" style="left: 1400px">
                                <div class="_ublogin-head-row margin-top-30">
                                    <h3>Submit OTP</h3>
                                    <!-- <p>Enter OTP Received on your Mobile</p> -->
                                </div>
                                <div class="_rmn-wrap m3"></div>
                                <div class="_ubs_form-row-field">
                                    <label>Enter OTP</label>
                                    <div class="_ubs-form-fields otp">
                                        <input type="hidden" name="regusermobile">
                                        <input type="text" value="" name="userregotp">
                                        <div class="clear"></div>
                                    </div>
                                    <p class="clear resend-otp-reg-wrap">
                                        <a href="#" class="no-otp disable-click">Resend OTP</a>
                                        <span class="resend-in">in <i style="font-style: normal">60</i> Sec.</span>
                                    </p>
                                    <div class="_ubs-go-btn">
                                        <button type="submit" class="get__btn" id="_btn_button2">Submit</button>
                                    </div>
                                </div>
                            </div>

                            <!-- Step 3: Registration (username, name) -->
                            <div class="_ub_form-slides_row" id="form_stp3" style="left: 1400px">
                                <div class="_ublogin-head-row">
                                    <h3 class="wel">Welcome</h3>
                                     <p>Provide following details to continue</p>
                                </div>
                                <div class="_ubs_form-row-field">
                                    <label>
                                        Username*
                                        <small class="t-toggle">
                                            <i class="fa fa-info-circle" aria-hidden="true"></i>
                                            <div class="t-toggle-b">Your unique gaming name on Ultimate Battle</div>
                                        </small>
                                    </label>
                                    <div class="_ubs-form-fields full">
                                        <input type="text" name="username" value="" name="" class="tt-fields ft">
                                    </div>
                                </div>

                                <div class="_ubs_form-row-field m15">
                                    <label>Full Name*</label>
                                    <div class="_ubs-form-fields full">
                                        <input type="text" name="name" value="" name="" class="tt-fields ft">
                                    </div>
                                </div>

                                <div class="_ubs_form-row-field m15">
                                    <label>Have a Refer Code?</label>
                                    <div class="_ubs-form-fields full">
                                        <input type="text" name="referral_code" value="" class="tt-fields ft">
                                        <input type="hidden" name="regvia" value="web" class="tt-fields ft">
                                    </div>
                                </div>

                                <div class="_ubs-go-btn">
                                    <button type="submit" class="get__btn" id="_btn_button3">Submit</button>
                                </div>

                               
                            </div>

                            <!-- Step 4: Login (mobile/username/email, password) -->
                            <div class="_ub_form-slides_row" id="form_stp4" style="left: 1400px">
                                <div class="_ublogin-head-row fr1">
                                    <h3>Login to your Account</h3>
                                    <!-- <p>Please Login Or Signup To Continue</p> -->
                                </div>
                                
                                <div class="_ubs_form-row-field">
                                    <label>Username / Email / Mobile</label>
                                    <div class="_ubs-form-fields">
                                        <input
                                            type="text" 
                                            name="login_username"
                                            placeholder="Username"
                                            class="fft2"
                                        >
                                    </div>
                                </div>

                                <div class="_ubs_form-row-field">
                                    <label>Password</label>
                                    <div class="_ubs-form-fields">
                                        <input
                                            type="password"
                                            name="login_password"
                                            placeholder="Password"
                                            class="fft2"
                                        >
                                        <a href="#" class="login-via-otp">Login via OTP</a>
                                    </div>
                                </div>

                                <div class="_ubs_form-row-field">
                                    <div class="_ubs-go-btn">
                                        <button type="submit" class="get__btn" id="_btn_button4">Submit</button>
										<button class="back-to-reg rgtr2"><i class="fa fa-chevron-left" aria-hidden="true"></i> Register?</button>
                                    </div>
                                </div>                                    

                                <div class="_ubs_form-row-field">
                                    <div class="loginwithsocial bp">
                                        <h3>SOCIAL LOGIN</h3>
                                        <div class="_ub_sc">
                                            <a href="https://www.ultimatebattle.in/facebook-login/fbconfig.php" class="fb">
                                                <i class="fa fa-facebook" aria-hidden="true"></i>
                                            </a> 
                                            <a href="https://accounts.google.com/o/oauth2/auth?scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fplus.me&amp;redirect_uri=https%3A%2F%2Fwww.ultimatebattle.in%2Fgoogle-auth.php%2F&amp;response_type=code&amp;client_id=6365722435-npe7gbbgeo1f5eudgv9d6resg823sar4.apps.googleusercontent.com&amp;access_type=online" class="gplus">
                                                <i class="fa fa-google" aria-hidden="true"></i>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Step 5 -->
                            <div class="_ub_form-slides_row" id="form_stp5" style="left:1400px">
                                <div class="_ublogin-head-row margin-top-30">
                                    <h3>Submit OTP</h3>
                                </div>
                                <div class="_ubs_form-row-field">
                                    <div class="_ost-wrap"></div>
                                    <div class="_ubs-form-fields">
                                        <label>Enter OTP</label>
                                        <input
                                            type="hidden"
                                            name="userloggingin"                                            
                                        >
                                        <input
                                            type="text"
                                            name="userloginotp"                                            
                                        >
                                        <p class="resend-otp-login-wrap clear">
                                            <a href="#" class="no-otp disable-click">Resend OTP</a><span class="resend-in"> in <i style="font-style: normal">60</i> Sec.</span>
                                        </p>
                                    </div>
                                    <div class="_ubs-go-btn">
                                        <button type="submit" class="get__btn" id="_btn_button5">Submit</button>
                                    </div>
                                </div>
                            </div>

                            <!-- Step 6 -->
                            <div class="_ub_form-slides_row" id="form_stp6" style="left:1400px">
                                <div class="_ublogin-head-row margin-top-30 text-center crrs">
                                    <h3>Congratulation!</h3>
                                    <p>Please <strong>complete your profile</strong> to start playing</p>
                                </div>
                                <div class="_ubs_form-row-field">
                                    <div class="_ubs-form-fields full">
                                        <input type="text" value="" name="" placeholder="Create User Name">
                                    </div>
                                    <div class="_ubs-form-fields full">
                                        <input type="text" value="" name="" placeholder="Your Full Name">
                                    </div>
                                    <div class="_ubs-form-fields full">
                                        <input type="text" value="" name="" placeholder="Email">
                                    </div>
                                    <div class="_ubs-form-fields full">
                                        <input type="text" value="" name="" placeholder="DOB">
                                    </div>
                                    <div class="_ubs-form-fields full">
                                        <div class="agrs"><label><input type="checkbox"> I agree to the <a href="#" target="_blank"> Terms and Conditions</a></label></div>
                                        <div class="agrs"><label><input type="checkbox"> I agree to be <a href="#">notified</a> about events <a href="#">via Whatsapp</a></label></div>
                                    </div>
                                    <div class="_ubs-go-btn">
                                        <button type="submit" class="get__btn" id="_btn_button6">Submit</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>`
    return modal
}

const renderUserRegistrationModal = container => {
    const modal = createUserRegistrationModal()
    jQuery(container).html(modal)
}

const displayUserRegistrationModal = _ => {
    renderUserRegistrationModal('#user-registration-modal-wrap')
    jQuery('#myModal').modal('show')
}

const renderError = ($container, message, additionalClass = '') => {
    if (jQuery($container).find('.error').length > 0) {
        jQuery($container).find('.error').html(`<p class="error ${additionalClass}">${message}</p>`)
        return
    }

    jQuery($container).append(`<p class="error ${additionalClass}">${message}</p>`)
}

const removeError = $container => {
    jQuery($container).find('.error').remove()
}

const validateMobileNumber = mobile => {
    let valid
    let message = ''
    try {
        if (!mobile) throw 'Please enter mobile number.'
        if (isNaN(mobile)) throw 'Please enter a valid mobile number'
        if (mobile.length != 10) throw 'Please enter 10 digit mobile number'
        if (!mobile.match(/^[5-9]{1}[0-9]{9}$/)) throw 'Please enter a valid mobile number.'

        jQuery.ajax({
            type: 'post',
            url: `${themeDir}ajax.php`,
            data: {action: 'validate_mobile', mobile},
            dataType: 'json',
            success: data => {
                if (!data.result) {
                    valid = false
                    message = data.error
                    return
                }

                valid = true
                message: data.error
            },
            async: false

        })
    } catch (error) {
        valid = false
        message = error
    } finally {
        return {valid, message}
    }
}

const validateOTP = otp => {
    let valid, message

    try {
        if (!otp) throw 'Please enter OTP!'
        if (isNaN(otp)) throw 'invalid OTP'
        if (otp.length != 6) throw 'Please enter 6 digit OTP'

        valid = true
        message = ''
    } catch (error) {
        valid = false
        message = error
    } finally {
        return {valid, message}
    }
}

const validateUsername = username => {
    try {
        username = username.trim()
        if (0 == username.length) throw 'Please enter a unique username'
        if (5 > username.length) throw 'Username cannot be less than 5 characters'
        if (20 < username.length) throw 'Username cannot be more than 20 characters'
        if (!username.match(/^[a-zA-Z]{1,1}[a-zA-Z0-9_]{3,18}[a-zA-Z0-9]{1,1}$/)) throw 'Invalid username!'
    
        let res
        jQuery.ajax({
            type: 'post',
            url: `${themeDir}ajax.php`,
            data: {action: 'check_username', username},
            success: function(resp) {
                res = 1 == resp
            },
            async: false
        })
    
        if (!res) throw 'Username is not available'

        return {res: true, message: ''}
    } catch (error) {
        return {res: false, message: error}
    }
}

const validateName = name => {
    try {
        name = name.trim()
        if (0 == name.length) throw 'Please enter full name'
        if (!name.match(/^[a-zA-Z ]{2,30}$/)) throw 'Invalid name!'

        return {res: true, message: ''}
    } catch (error) {
        return {res: false, message: error}
    }
}

var resendRegTimer, resendLoginTimer;

const resendRegOTPTimer = _ => {
    clearInterval(resendRegTimer);
    jQuery('.resend-otp-reg-wrap').html(`<a href="#" class="no-otp disable-click">Resend OTP</a><span class="resend-in"> in <i style="font-style: normal">60</i> Sec.</span>`)

    let timeleft = 60;
    resendRegTimer = setInterval(function(){
        timeleft--;
        if(timeleft < 1){
            clearInterval(resendRegTimer);
            jQuery('.resend-otp-reg-wrap .no-otp').removeClass('disable-click')
            jQuery('.resend-otp-reg-wrap .resend-in').text('')
            return
        }
        jQuery('.resend-otp-reg-wrap .resend-in i').text(timeleft)
    }, 1000);
}

const sendRegOTP = mobile => {
    const $mobile = document.querySelector(`input[name="mobile_number"]`)
    const $container = $mobile.closest('div')

    const $button1 = jQuery('#_btn_button1')
    const $containerButton = $button1.closest('div')

    jQuery($container).append(`<p class="checking-phone-number" style="position: absolute;bottom: -16px"><span class="loading-dots2"></span></p>`)

    jQuery.ajax({
        type: 'post',
        url: `${themeDir}ajax.php`,
        dataType: 'json',
        data: {action: 'create_and_send_otp', mobile},
        success: function(data) {
            jQuery($container).find('.checking-phone-number').remove()
            if (!data.result) {
                jQuery($containerButton).find('.processing').remove()
                $button1.removeAttr('disabled').removeClass('disabled')

                let errorMessage = data.error || 'Something went wrong, please try again.'
                renderError($container, errorMessage)
                return 
            }

            removeError($container)

            jQuery('._rmn-wrap').html(`<p>OTP sent to ${mobile.replace(mobile.substring(2, 7), '*****')} <a href="#" class="change-mobile">Change</a></p>`)

            jQuery('#form_stp1').css({'left': -350})
            jQuery('#form_stp2').css({'left': 0})

            jQuery(`input[name="regusermobile"]`).val(mobile)

            resendRegOTPTimer()
        }
    })
}

const resendLoginOTPTimer = _ => {
    clearInterval(resendLoginTimer);
    jQuery('.resend-otp-login-wrap').html(`<a href="#" class="no-otp disable-click">Resend OTP</a><span class="resend-in"> in <i style="font-style: normal">60</i> Sec.</span>`)

    let timeleft = 60;
    resendLoginTimer = setInterval(function(){
        timeleft--;
        if(timeleft < 1){
            clearInterval(resendLoginTimer);
            jQuery('.resend-otp-login-wrap .no-otp').removeClass('disable-click')
            jQuery('.resend-otp-login-wrap .resend-in').text('')
            return
        }
        jQuery('.resend-otp-login-wrap .resend-in i').text(timeleft)
    }, 1000);
}

const sendLoginOTP = user => {
    if (0 == jQuery('.login-via-otp').find('.fa-spinner').length) {
        jQuery('.login-via-otp').prepend('<i class="fa fa-spinner fa-spin"></i> ')
    }

    jQuery(`input[name="userloggingin"]`).val(user)

    $containerButton = jQuery('.login-via-otp').closest('div')

    jQuery.ajax({
        type: 'post',
        url: `${themeDir}ajax.php`,
        dataType: 'json',
        data: {action: 'send_login_otp', user},
        success: data => {
            console.log(data)
            if (!data.result) {
                jQuery('.login-via-otp').find('.fa-spinner').remove()
                renderError(jQuery(`input[name="login_username"]`).closest('div'), data.error, 'clear')
                return
            }

            removeError($containerButton)

            jQuery('._ost-wrap').html(`<p>OTP sent to ${data.mobile.replace(data.mobile.substring(2, 7), '*****')} <a href="#" class="change-user">Change</a></p>`)
            
            jQuery('#form_stp4').css({'left': -350})
            jQuery('#form_stp5').css({'left': 0})

            resendLoginOTPTimer()
        }
    })
}

jQuery(document).ready(function(){
    // displayUserRegistrationModal()

    /* jQuery('#login-reg-btn').on('click', function(){
        jQuery('#myModal').modal('show')
    }) */
    
    jQuery(document).on('click', '#_btn_button1', function(){
        const $button1 = jQuery('#_btn_button1')
        $button1.attr('disabled', 'disabled').addClass('disabled')

        const $containerButton = $button1.closest('div')

        jQuery($containerButton).find('.errors').remove()
        if (0 == jQuery($containerButton).find('.processing').length) {
            jQuery($containerButton).prepend(`<p class="processing"><i class="fa fa-spinner fa-spin"></i> Processing...</p>`)
        } else {
            jQuery($containerButton).find('.processing').html(`<i class="fa fa-spinner fa-spin"></i> Processing...`)
        }

        const $mobile = document.querySelector(`input[name="mobile_number"]`)
        
        const mobile = $mobile.value.trim()
        let res = validateMobileNumber(mobile)
        
        const $container = $mobile.closest('div')

        if (!res.valid) {
            renderError($container, res.message)
        } else {
            removeError($container)
        }

        const $tnc = document.querySelector(`input[name="i_agree_signup"]`)
        const $containerTnC = $tnc.closest('div')
        if (!$tnc.checked) {
            renderError($containerTnC, 'You must be agree to continue')
        } else {
            removeError($containerTnC)
        }

        if (!res.valid || !$tnc.checked) {
            jQuery($containerButton).find('.processing').remove()
            $button1.removeAttr('disabled').removeClass('disabled')
            return false
        }

        jQuery(`input[name="userregotp"]`).val('')
        jQuery(`input[name="userregotp"]`).parents('._ubs-form-fields').find('.error').remove()

        // Send OTP
        sendRegOTP(mobile)
    })

    /* jQuery(document).on('click', '.resend-otp-login-wrap .no-otp', function(e){
        e.preventDefault()

        jQuery('.login-via-otp').find('.fa-spinner').remove()

        jQuery('#form_stp4').css({'left': 0})
        jQuery('#form_stp5').css({'left': -350})
    }) */
    
    jQuery(document).on('click', '#_btn_button2', function(){
        const $button2 = jQuery('#_btn_button2')
        $button2.attr('disabled', 'disabled').addClass('disabled')

        const $containerButton = $button2.closest('div')

        jQuery($containerButton).find('.errors').remove()
        if (0 == jQuery($containerButton).find('.processing').length) {
            jQuery($containerButton).prepend(`<p class="processing"><i class="fa fa-spinner fa-spin"></i> Processing...</p>`)
        } else {
            jQuery($containerButton).find('.processing').html(`<i class="fa fa-spinner fa-spin"></i> Processing...`)
        }

        // get otp entered from the form
        const $otp = document.querySelector(`input[name="userregotp"]`)
        const otp = $otp.value.trim()
        
        const res = validateOTP(otp)
        
        const $container = $otp.closest('div')
        
        if (!res.valid) {
            jQuery($containerButton).find('.processing').remove()
            $button2.removeAttr('disabled').removeClass('disabled')
            
            renderError($container, res.message)
            return false
        }
        
        removeError($container)
        
        // compare OTP
        const mobile = document.querySelector(`input[name="mobile_number"]`).value.trim()
        jQuery.ajax({
            type: 'post',
            url: `${themeDir}ajax.php`,
            dataType: 'json',
            data: {action: 'compare_userreg_otp', mobile, otp},
            success: function(data) {
                if (!data.result) {
                    jQuery($containerButton).find('.processing').remove()
                    $button2.removeAttr('disabled').removeClass('disabled')

                    renderError($container, data.message)
                    return
                } else {
                    removeError($container)
                    
                    jQuery('#form_stp2').css({'left': -350})
                    jQuery('#form_stp3').css({'left': 0})
                }
            },
            async: false
        })
    })

    jQuery(document).on('click', '#_btn_button3', function(){
        const $button3 = jQuery('#_btn_button3')
        $button3.attr('disabled', 'disabled').addClass('disabled')

        const $containerButton = $button3.closest('div')

        jQuery($containerButton).find('.errors').remove()

        if (0 == jQuery($containerButton).find('.processing').length) {
            jQuery($containerButton).prepend(`<p class="processing"><i class="fa fa-spinner fa-spin"></i> Processing...</p>`)
        } else {
            jQuery($containerButton).find('.processing').html(`<i class="fa fa-spinner fa-spin"></i> Processing...`)
        }

        const $username = document.querySelector(`input[name="username"]`)
        const username = $username.value.trim()
        
        const $containerUsername = $username.closest('div')
        if (0 == jQuery($containerUsername).find('.checking-username').length) {
            jQuery($containerUsername).find('.checking-username').html(`<span class="loading-dots2"></span> Loading...`)
        } else {
            jQuery($containerUsername).append(`<p class="checking-username" style="position: absolute;bottom: -16px"><span class="loading-dots2"></span> Loading...</p>`)
        }
        
        const res1 = validateUsername(username)
        if (!res1.res) {
            renderError($containerUsername, res1.message)
        } else {
            jQuery($containerUsername).find('.checking-username').remove()
            removeError($containerUsername)
        }
        
        const $name = document.querySelector(`input[name="name"]`)
        const name = $name.value.trim()

        const referralCode = document.querySelector(`input[name="referral_code"]`).value.trim()

        const $containerName = $name.closest('div')
        
        const res2 = validateName(name)
        if (!res2.res) {
            renderError($containerName, res2.message)
        } else {
            removeError($containerName)
        }
        
        if (!(res1.res && res2.res)) {
            jQuery($containerButton).find('.processing').remove()
            jQuery('#_btn_button3').removeAttr('disabled').removeClass('disabled')

            return
        }
        
        // create user
        const mobile = document.querySelector(`input[name="mobile_number"]`).value.trim()
        const regvia = "web"
        jQuery.ajax({
            type: 'post',
            url: `${themeDir}ajax.php`,
            dataType: 'json',
            data: {action: 'create_ub_user', mobile, username, name, referral_code: referralCode,regvia:regvia},
            success: function(response) {
                if (!response.result) {
                    const $container = jQuery('#_btn_button3').closest('div')

                    jQuery($container).find('.processing').remove()
                    jQuery('#_btn_button3').removeAttr('disabled').removeClass('disabled')
                    
                    let message = ``
                    
                    if (0 == response.errors.length) {
                        message = `<li>Something went wrong, please try again.</li>`
                    } else {
                        for (error of response.errors) {
                            message += `<li>${error}</li>`
                        }
                    }

                    if (!message) return

                    if (jQuery($container).find('.errors').length > 0) {
                        jQuery($container).find('.errors').html(`<ul class="error" style="padding-left: 20px; margin-bottom: 0">${message}</ul>`)
                        return 
                    }

                    jQuery($container).prepend(`<div class="errors"><ul class="error" style="padding-left: 20px; margin-bottom: 0">${message}</ul></div>`)
                    return
                }

                location.reload()
            }
        })

        // jQuery('#form_stp3').css({'left': -350})
        // jQuery('#form_stp4').css({'left': 0})
    })

    jQuery(document).on('click', '#_btn_button4', function(){
        // Validate username
         const $button = jQuery(this)
        
        $containerButton = $button.closest('div')
        $button.attr('disabled', 'disabled').addClass('disabled')
        $containerButton.find('.error').remove()

        if (0 == $containerButton.find('.processing').length) {
            $containerButton.prepend(`<p class="processing"><i class="fa fa-spinner fa-spin"></i> Processing...</p>`)
            console.log("if");
        } else {
            console.log("else");
            $containerButton.find('.processing').html(`<i class="fa fa-spinner fa-spin"></i> Processing...`)
        }
        
        // Validate username
        const $username = document.querySelector(`input[name="login_username"]`)
        const username = $username.value.trim()
        if (0 == username.length) {
            renderError($username.closest('div'), 'Please enter username', 'clear')
            $button.attr('disabled', false).removeClass('disabled')
            $containerButton.find('.processing').remove()
        } else {
            removeError($username.closest('div'))
        }
        // Validate password
        const $password = document.querySelector(`input[name="login_password"]`)
        const password = $password.value
        if (0 == password.length) {
            renderError($password.closest('div'), 'Please enter password', 'clear')
            $button.attr('disabled', false).removeClass('disabled')
            $containerButton.find('.processing').remove()
        } else {
            removeError($password.closest('div'))
        }

        if (0 == username.length || 0 == password.length) return

    //    return false;
        
        jQuery.ajax({
            type: 'post',
            url: `${themeDir}ajax.php`,
            dataType: 'json',
            data: {action: 'make_user_loggedin', username, password},
            success: function(response) {
                console.log(response)
                
                if (response.result) {
                    location.reload()
                } else {
                    jQuery($containerButton).find('.processing').remove()
                    $button.removeAttr('disabled').removeClass('disabled')
                    
                    if (0 == $containerButton.find('.error').length) {
                        $containerButton.prepend(`<p class="error">${response.message}</p>`)
                    } else {
                        $containerButton.find('.error').text(response.message)
                    }
                }
            },
            async: false
        })
        console.log('make user loggedin 2')
    })
    
    jQuery(document).on('click', '#_btn_button5', function(){
        const $button = jQuery('#_btn_button5')
        $button.attr('disabled', 'disabled').addClass('disabled')

        const $containerButton = $button.closest('div')

        jQuery($containerButton).find('.errors').remove()
        if (0 == jQuery($containerButton).find('.processing').length) {
            jQuery($containerButton).prepend(`<p class="processing"><i class="fa fa-spinner fa-spin"></i> Processing...</p>`)
        } else {
            jQuery($containerButton).find('.processing').html(`<i class="fa fa-spinner fa-spin"></i> Processing...`)
        }

        // get otp entered from the form
        const $otp = document.querySelector(`input[name="userloginotp"]`)
        const otp = $otp.value.trim()
        
        const res = validateOTP(otp)
        
        const $containerOTP = $otp.closest('div')
        
        if (!res.valid) {
            jQuery($containerButton).find('.processing').remove()
            $button.removeAttr('disabled').removeClass('disabled')
            
            renderError($containerOTP, res.message)
            return false
        }
        
        removeError($containerOTP)
        
        // compare OTP
        const user = document.querySelector(`input[name="login_username"]`).value
        jQuery.ajax({
            type: 'post',
            url: `${themeDir}ajax.php`,
            dataType: 'json',
            data: {action: 'compare_userlogin_otp', user, otp},
            success: function(data) {
                if (!data.result) {
                    jQuery($containerButton).find('.processing').remove()
                    $button.removeAttr('disabled').removeClass('disabled')

                    renderError($containerOTP, data.message)
                    return
                } else {
                    removeError($containerOTP)
                    location.reload()
                }
            },
            async: false
        })

    })

    jQuery(document).on('click', '.login-instead', function(e){
        e.preventDefault()

        const $button = jQuery(this)
        $button.closest('._ub_form-slides_row').css({'left': -350})
        jQuery('#form_stp4').css({'left': 0})
    })
    
    jQuery(document).on('click', '.login-via-otp', function(e){
        e.preventDefault()
        const $button = jQuery(this)
        const $containerButton = $button.closest('div')

        const $user = document.querySelector(`input[name="login_username"]`)
        const user = $user.value
        if (!user) {
            renderError($user.closest('div'), 'Please enter detail to login via otp', 'clear')
            return
        }

        console.log({action: 'send_login_otp', user})

        jQuery(`input[name="userloginotp"]`).val('')
        jQuery(`input[name="userloggingin"]`).parents('._ubs-form-fields').find('.error').remove()
        
        sendLoginOTP(user)

        return
    })
    
    jQuery(document).on('click', '.change-user', function(e){
        e.preventDefault()

        jQuery('.login-via-otp').find('.fa-spinner').remove()
        
        const $button = jQuery(this)
        $button.closest('._ub_form-slides_row').css({'left': -350})
        jQuery('#form_stp4').css({'left': 0})
    })

    jQuery(document).on('click', '.change-mobile', function(e){
        e.preventDefault()
        
        const $button = jQuery(this)
        jQuery('#_btn_button1').closest('div').find('.processing').remove()
        jQuery('#_btn_button1').removeAttr('disabled').removeClass('disabled')
        $button.closest('._ub_form-slides_row').css({'left': -350})
        jQuery('#form_stp1').css({'left': 0})
    })

    jQuery(document).on('click', '.back-to-reg', function(e){
        e.preventDefault()

        const $button = jQuery(this)
        $button.closest('._ub_form-slides_row').css({'left': -350})
        jQuery('#form_stp1').css({'left': 0})
    })

    jQuery(document).on('click', '.resend-otp-reg-wrap .no-otp', function(e){
        e.preventDefault()

        const mobile = jQuery(`input[name="regusermobile"]`).val()
        console.log('resend otp')
        console.log(mobile)
        sendRegOTP(mobile)
    })

    jQuery(document).on('click', '.resend-otp-login-wrap .no-otp', function(e){
        e.preventDefault()
        
        const user = jQuery(`input[name="userloggingin"]`).val()
        if (!user) return

        sendLoginOTP(user)
    })
})
</script><div id="user-registration-modal-wrap"></div>
			    <div class="_ubs-game-banner-wraper  _msa">
        <div class="_ubssingleinfo _bannerComponent">
            <div class="game-nav">
        <div class="container">
            <div class="games-logo main">
                <a href="https://www.ultimatebattle.in/free-fire.html"><img src="https://www.ultimatebattle.in/wp-content/uploads/2019/09/Logo-Free-Fire-MAX-1.png" alt="" /></a></div>
            <div class="games-navigation"><ul><li class="c1 _gpsn-tournament-listing"><a href="https://www.ultimatebattle.in/free-fire/tournaments.html">Tournaments</a></li></li><li class="c3 _gpsn-leaderboard"><a href="https://www.ultimatebattle.in/free-fire/leaderboards.html">Leaderboard</a></li></li><li class="c4-2 _gpsn-coins-redeem-store"><a href="https://www.ultimatebattle.in/redeem-coins-shop.html">Redeem Coins</a></li></li><li class="c5 _gpsn-how-it-works"><a href="https://www.ultimatebattle.in/how-it-works.html">How It Works</a></li></li></ul></div>
            <button class="game-menu-trigger"><i class="fa fa-bars"></i></button>
        </div>
    </div>            <div id="_ubBannerSlides">
                                <div class="carousel-item3">
                            <img src="https://www.ultimatebattle.in/wp-content/uploads/2019/09/freefire-max-game-page-banner-1349x310.png" alt="" />
                        </div>
                                                            </div>
            <div class="cn-wrap">
                    <div class="container">
                        <div class="_game-user-clan"></div>
                        <div class="_game-user-networks"></div>
                    </div>
                </div></div></div><div class="mobile-section-scroll">
            <div class="container">
                <ul><li><a href=""><img src="https://www.ultimatebattle.in/wp-content/uploads/game-banners/freee-fire-max-to-play_1671798239.png"></a></li></ul>
            </div>
        </div><section id="breadcrumb-info-bx"><div class="container"><a href="https://www.ultimatebattle.in">Home</a> / Free Fire Max</div></section>    <section id="gameTitle">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="game-title text-center">Free Fire <span>Max</span></h1>
                </div>
            </div>
        </div>
    </section>
            <section class="tournament-section">
    		<div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="_game_ch face-off-wrapper">
                            <h2>Free Fire Max <span>Tournaments</span></h2>
                            <ul class="_cttabs">
                                                                                                    <li rel="tab2">Free 2 Play Tournaments</li>
                                                                                                                            </ul>
                            <div class="_ct_tab_container">
        						<div class="ub-game-lbl-app">
        							<span class="solo">Battle Royale</span>
        							<span class="_v">Bracket</span>
        						</div>

                                                                                                    <h3 class="tab_drawer_heading m2" rel="tab2">Free 2 Play Tournaments</h3>
                                    <div id="tab2" class="_cttab_content"><div class="game-related-post-tournament _game_ch _ub_filter">
        <!--<div class="row">
            <div class="col-lg-12">
                <h2>Free 2 Play <span>Tournaments</span></h2>
            </div>
        </div>--><div class="_ft-filters-wrap">
            <div class="_ft-filters"><div class="day-filter-wrap">
                    <label>Filter by: </label>
                    <select name="day_filter">
                        <option value="all">All</option>
                        <option value="today">Today</option>
                        <option value="tomorrow">Tomorrow</option>
                        <option value="thisweek">This week</option>
                    </select>
                </div></div>
        </div><div class="row featured-game-wrap free"><div class="col-sm-6 col-md-3 _ft-wrap _Solo-Battle-Royale" game_mode="Battle Royale" team_size="solo" type="ranking" day="tomorrow" thisweek="yes">
                                <div class="ub2-game-re bg-white _gt-fun">
                                    <div class="tournament-pic">
                                        <a href="https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-10-mar-2023-prize-200-coins.html">
                                            <figure><img alt="" class="img-responsive" src="https://www.ultimatebattle.in/wp-content/uploads/2019/09/freefire-max-game-page-banner-261x134.png"></figure>
                                            <span class="_tid">ID: 36617</span>
                                            <div class="_ts-type"><i>Solo - Battle Royale</i><small><img src="https://www.ultimatebattle.in/wp-content/themes/blackfyre/images/icon-ffm_mobile.png" /></small></div>
                                        </a>
                                    </div><div class="ub2-game-rebx">
                                        <h3><a href="https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-10-mar-2023-prize-200-coins.html">FREE FIRE MAX FUN SERIES</a></h3>
                                        <div class="ub2-register-date">
                                            <span><span class="day-name">tomorrow</span><span class="start-time"><i class="fa fa-clock-o"></i>12:00 PM</span></span>
                                        </div>
                                        <!--<p class="_gm_fee">Registration Fee: <span> Free</span></p>--><p>Players: <span>53/90</span></p><div class='ub_2_btn network_id_not_found''>
                                            <a href='https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-10-mar-2023-prize-200-coins.html' class='_sif '>Join - <span class='_t-reg-fee'>Free</span></a>
                                        </div><div class="_gpt-prize"><p>Prize: <span class="pr"><span class="ub-coin-icon">200</span><sub>Coins</sub></span></p></div></div>
                                </div>
                            </div><div class="col-sm-6 col-md-3 _ft-wrap _Solo-Battle-Royale" game_mode="Battle Royale" team_size="solo" type="ranking" day="tomorrow" thisweek="yes">
                                <div class="ub2-game-re bg-white _gt-fun">
                                    <div class="tournament-pic">
                                        <a href="https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-24-feb-2023/free-fire-max-tournament-fun-series-11-mar-2023-prize.html">
                                            <figure><img alt="" class="img-responsive" src="https://www.ultimatebattle.in/wp-content/uploads/2019/09/freefire-max-game-page-banner-261x134.png"></figure>
                                            <span class="_tid">ID: 36632</span>
                                            <div class="_ts-type"><i>Solo - Battle Royale</i><small><img src="https://www.ultimatebattle.in/wp-content/themes/blackfyre/images/icon-ffm_mobile.png" /></small></div>
                                        </a>
                                    </div><div class="ub2-game-rebx">
                                        <h3><a href="https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-24-feb-2023/free-fire-max-tournament-fun-series-11-mar-2023-prize.html">BATTLE CUP - Qualifier #7</a></h3>
                                        <div class="ub2-register-date">
                                            <span><span class="day-name">tomorrow</span><span class="start-time"><i class="fa fa-clock-o"></i>3:00 PM</span></span>
                                        </div>
                                        <!--<p class="_gm_fee">Registration Fee: <span> Free</span></p>--><p>Players: <span>22/90</span></p><div class='ub_2_btn network_id_not_found''>
                                            <a href='https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-24-feb-2023/free-fire-max-tournament-fun-series-11-mar-2023-prize.html' class='_sif '>Join - <span class='_t-reg-fee'>Free</span></a>
                                        </div><div class="_gpt-prize"><p>Prize: <span class="pr">Qualifier</span></p></div></div>
                                </div>
                            </div><div class="col-sm-6 col-md-3 _ft-wrap _Solo-Battle-Royale" game_mode="Battle Royale" team_size="solo" type="ranking" day="tomorrow" thisweek="yes">
                                <div class="ub2-game-re bg-white _gt-fun">
                                    <div class="tournament-pic">
                                        <a href="https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-10-mar-2023-prize-200-coins-2.html">
                                            <figure><img alt="" class="img-responsive" src="https://www.ultimatebattle.in/wp-content/uploads/2019/09/freefire-max-game-page-banner-261x134.png"></figure>
                                            <span class="_tid">ID: 36625</span>
                                            <div class="_ts-type"><i>Solo - Battle Royale</i><small><img src="https://www.ultimatebattle.in/wp-content/themes/blackfyre/images/icon-ffm_mobile.png" /></small></div>
                                        </a>
                                    </div><div class="ub2-game-rebx">
                                        <h3><a href="https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-10-mar-2023-prize-200-coins-2.html">FREE FIRE MAX FUN SERIES</a></h3>
                                        <div class="ub2-register-date">
                                            <span><span class="day-name">tomorrow</span><span class="start-time"><i class="fa fa-clock-o"></i>6:00 PM</span></span>
                                        </div>
                                        <!--<p class="_gm_fee">Registration Fee: <span> Free</span></p>--><p>Players: <span>21/90</span></p><div class='ub_2_btn network_id_not_found''>
                                            <a href='https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-10-mar-2023-prize-200-coins-2.html' class='_sif '>Join - <span class='_t-reg-fee'>Free</span></a>
                                        </div><div class="_gpt-prize"><p>Prize: <span class="pr"><span class="ub-coin-icon">200</span><sub>Coins</sub></span></p></div></div>
                                </div>
                            </div><div class="col-sm-6 col-md-3 _ft-wrap _Solo-Battle-Royale" game_mode="Battle Royale" team_size="solo" type="ranking" day="" thisweek="yes">
                                <div class="ub2-game-re bg-white _gt-fun">
                                    <div class="tournament-pic">
                                        <a href="https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-24-feb-2023.html">
                                            <figure><img alt="" class="img-responsive" src="https://www.ultimatebattle.in/wp-content/uploads/2019/09/freefire-max-game-page-banner-261x134.png"></figure>
                                            <span class="_tid">ID: 36288</span>
                                            <div class="_ts-type"><i>Solo - Battle Royale</i><small><img src="https://www.ultimatebattle.in/wp-content/themes/blackfyre/images/icon-ffm_mobile.png" /></small></div>
                                        </a>
                                    </div><div class="ub2-game-rebx">
                                        <h3><a href="https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-24-feb-2023.html">FREE FIRE MAX-WEEKLY BATTLE CUP</a></h3>
                                        <div class="ub2-register-date">
                                            <span>14<sup class="date-ordinal-indicator">th</sup> Mar<span class="start-time"><i class="fa fa-clock-o"></i>3:00 PM</span></span>
                                        </div>
                                        <!--<p class="_gm_fee">Registration Fee: <span> Free</span></p>--><p>Players: <span>340</span></p><div class='ub_2_btn network_id_not_found''>
                                            <a href='https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-24-feb-2023.html' class='_sif '>Join - <span class='_t-reg-fee'>Free</span></a>
                                        </div><div class="_gpt-prize"><p>Prize: <span class="pr"><i class="fa fa-inr"></i> 1000</span></p></div></div>
                                </div>
                            </div></div><div class="_gtlm-wrap"><div class="mobile-datalist-table _gt-row _gt-fun _ft-wrap _Solo-Battle-Royale" game_mode="Battle Royale" team_size="solo" type="ranking" day="tomorrow" thisweek="yes">
                            <div class="_stype"><span  class="t-s-z">Solo - Battle Royale</span> <span class="_u_date"><span class="day-name">tom</span> <span class="_ts-time">12:00 PM</span></span></div>
                            <div class="_ub_tournament_list_l">
                                <h3><a href="https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-10-mar-2023-prize-200-coins.html">FREE FIRE MAX FUN SERIES</a></h3>
								 <p class="_p_row"><span class="tid">TID: 36617</span></p>
                                <div class="_ub_prize-mob">
                                    <span class="_u">PRIZE</span><span class="_r">200<span class="ub-coin-icon"></span></span><span class="_u_player"><i class="fa fa-user-circle-o" aria-hidden="true"></i> 53/90</span>
                                </div>
                            </div>
                            <div class="_ub_tournament_list_R"><div class='_u-btn Join'>
                                    <a href='https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-10-mar-2023-prize-200-coins.html' class='_sif '>Join <small><span class='_t-reg-fee'>Free</span></a>
                                </div>
                            </div>
                        </div><div class="mobile-datalist-table _gt-row _gt-fun _ft-wrap _Solo-Battle-Royale" game_mode="Battle Royale" team_size="solo" type="ranking" day="tomorrow" thisweek="yes">
                            <div class="_stype"><span  class="t-s-z">Solo - Battle Royale</span> <span class="_u_date"><span class="day-name">tom</span> <span class="_ts-time">3:00 PM</span></span></div>
                            <div class="_ub_tournament_list_l">
                                <h3><a href="https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-24-feb-2023/free-fire-max-tournament-fun-series-11-mar-2023-prize.html">BATTLE CUP - Qualifier #7</a></h3>
								 <p class="_p_row"><span class="tid">TID: 36632</span></p>
                                <div class="_ub_prize-mob">
                                    <span class="_u">PRIZE</span><span class="_r">Qualifier</span><span class="_u_player"><i class="fa fa-user-circle-o" aria-hidden="true"></i> 22/90</span>
                                </div>
                            </div>
                            <div class="_ub_tournament_list_R"><div class='_u-btn Join'>
                                    <a href='https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-24-feb-2023/free-fire-max-tournament-fun-series-11-mar-2023-prize.html' class='_sif '>Join <small><span class='_t-reg-fee'>Free</span></a>
                                </div>
                            </div>
                        </div><div class="mobile-datalist-table _gt-row _gt-fun _ft-wrap _Solo-Battle-Royale" game_mode="Battle Royale" team_size="solo" type="ranking" day="tomorrow" thisweek="yes">
                            <div class="_stype"><span  class="t-s-z">Solo - Battle Royale</span> <span class="_u_date"><span class="day-name">tom</span> <span class="_ts-time">6:00 PM</span></span></div>
                            <div class="_ub_tournament_list_l">
                                <h3><a href="https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-10-mar-2023-prize-200-coins-2.html">FREE FIRE MAX FUN SERIES</a></h3>
								 <p class="_p_row"><span class="tid">TID: 36625</span></p>
                                <div class="_ub_prize-mob">
                                    <span class="_u">PRIZE</span><span class="_r">200<span class="ub-coin-icon"></span></span><span class="_u_player"><i class="fa fa-user-circle-o" aria-hidden="true"></i> 21/90</span>
                                </div>
                            </div>
                            <div class="_ub_tournament_list_R"><div class='_u-btn Join'>
                                    <a href='https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-10-mar-2023-prize-200-coins-2.html' class='_sif '>Join <small><span class='_t-reg-fee'>Free</span></a>
                                </div>
                            </div>
                        </div><div class="mobile-datalist-table _gt-row"></div><div class="mobile-datalist-table _gt-row _gt-fun _ft-wrap _Solo-Battle-Royale" game_mode="Battle Royale" team_size="solo" type="ranking" day="" thisweek="yes">
                            <div class="_stype"><span  class="t-s-z">Solo - Battle Royale</span> <span class="_u_date">14<sup class="date-ordinal-indicator">th</sup> Mar <span class="_ts-time">3:00 PM</span></span></div>
                            <div class="_ub_tournament_list_l">
                                <h3><a href="https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-24-feb-2023.html">FREE FIRE MAX-WEEKLY BATTLE CUP</a></h3>
								 <p class="_p_row"><span class="tid">TID: 36288</span></p>
                                <div class="_ub_prize-mob">
                                    <span class="_u">PRIZE</span><span class="_r"><i class="fa fa-inr"></i> 1000</span><span class="_u_player"><i class="fa fa-user-circle-o" aria-hidden="true"></i> 352/630</span>
                                </div>
                            </div>
                            <div class="_ub_tournament_list_R"><div class='_u-btn Join'>
                                    <a href='https://www.ultimatebattle.in/tournament/free-fire-max-tournament-fun-series-24-feb-2023.html' class='_sif '>Join <small><span class='_t-reg-fee'>Free</span></a>
                                </div>
                            </div>
                        </div></div></div></div>
                                                                                                                            </div>
                        </div>
                    </div>
                </div>
            </div>
		</section>
    <section class="leaderboard-shedule">
            <div class="container">
                <h2>Ladders <span>Ranking</span></h2>
                <div id="ladderboard"><p class="text-center"><img src="https://www.ultimatebattle.in/wp-content/themes/blackfyre/img/loading.gif" alt="Loading..." style="width: 30px; height: 30px" /></p></div>
            </div>
        </section><section class="cdm-leaderboard">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 _game_ch">
                        <h2 class="text-center">Free Fire Max <span>Leaderboards</span></h2>
                    </div>
                </div>
                <div class="row"><div class="col-md-6 col-lg-6">
                            <ul>
                                <li class="list2">
                                    <figure><img src="https://www.ultimatebattle.in/wp-content/themes/blackfyre/images/frame-image-grey.png" class="frame-view"><span>#2</span></figure>
                                    <h3><span></span></h3>
                                    <div class="cdm-list"> % <span> Win </span> </div>
                                    <div class="cdm-list">  <span> rating points </span> </div>
                                    <div class="_challenge_link_btn"><a href="javascript:challengePop(, 12670)" class="_sif"> <span>Challenge <i class="fa fa-long-arrow-right" aria-hidden="true"></i></span></a></div>
                                </li>
                                <li class="list1">
                                    <figure><img src="https://www.ultimatebattle.in/wp-content/themes/blackfyre/images/frame-image.png" class="frame-view"><div class='profile-feature-img size avatar-letter AB' style='display: block; margin-left: auto; margin-right: auto; width: 170px; height: 170px; font-size: 85px; text-align: center; line-height: 170px; background-color: #305e62; color: #FFF'>AB</div><span>#1</span></figure>
                                    <h3>Arpan bhowmick<span>Hex28417</span></h3>
                                    <div class="cdm-list"> 75% <span> Win </span> </div>
                                    <div class="cdm-list"> 1417.63 <span> rating points </span> </div>
                                    <div class="_challenge_link_btn"><a href="javascript:challengePop(29484, 12670)" class="_sif"> <span>Challenge <i class="fa fa-long-arrow-right" aria-hidden="true"></i></span></a></div>
                                </li>
                                <li class="list3">
                                    <figure><img src="https://www.ultimatebattle.in/wp-content/themes/blackfyre/images/frame-image-grey-golden.png" class="frame-view"><span>#3</span></figure>
                                    <h3><span></span></h3>
                                    <div class="cdm-list"> % <span> Win </span> </div>
                                    <div class="cdm-list">  <span> rating points </span> </div>
                                    <div class="_challenge_link_btn"><a href="javascript:challengePop(, 12670)" class="_sif"> <span>Challenge <i class="fa fa-long-arrow-right" aria-hidden="true"></i></span></a></div>
                                </li>
                            </ul>
                        </div></div>
            </div>
        </section>    <div class="organize-your-own-tournament">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <a href="https://www.ultimatebattle.in/organizer.html"><img src="https://www.ultimatebattle.in/wp-content/themes/blackfyre/images/organise-your-own-tournaments.jpg" alt="Organize your own tournaments"></a>
                </div>
            </div>
        </div>
    </div>
    <section id="gameNews"></section><div id="challenge_report_score_modal" class="modal fade reportscorebx" tabindex="-1" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body report-bx">
                    <h3>Submit Score</h3>
                    <div class="challenge-score-report-container"></div>
                </div>
            </div>
        </div>
    </div><div class="modal fade" id="networkIDModal" tabindex="-1" role="dialog" aria-labelledby="networkIDModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-body _network-form-wrap"></div>
            </div>
        </div>
    </div><div id="gamerIdHelp" class="modal ub-model-form" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header text-center">
                    <h2 class="modal-title">Gamer ID Help</h2>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body"><p><a href="https://www.ultimatebattle.in/wp-content/uploads/2019/09/game-name-.png"><img class="alignnone size-full wp-image-20856" src="https://www.ultimatebattle.in/wp-content/uploads/2019/09/game-name-.png" alt="" /></a></p>
</div>
            </div>
        </div>
    </div>    <script>
        gameId = +"12670";
        let challengeSwitch = "";
        let paidGamingSwitch = +"1";
        let paidTournamentsSwitch = +"1";
        let paidChallengesSwitch = +"1";
        let userNetworkIdsJson = '[]';
        const gameLadderboard = !!+'1';

        userNetworkIdsJson = JSON.parse(userNetworkIdsJson);
        jQuery(document).ready(function(){
            if (jQuery("._cttabs li[rel='tab1']").length == 0) {
                jQuery("._cttabs li[rel='tab2']").addClass('active')
            }

            if (challengeSwitch) {
                /*jQuery.ajax({
                    type: 'GET',
                    url: `${themeDir}ajax.php`,
                    data: {action: 'render_game_online_players', game: gameId, limit: 5},
                    success: function(response) {
                        jQuery('#gameOnlinePlayers').html(`${'not_found' != response ? response : ''}`)
                    },
                    async: true
                });*/

                jQuery('.create-challenge-ad').on('click', function(){
                    jQuery('#createChallengeAdModal').modal('show');
                });
            }

            jQuery('#amnt-range').slider({
                range: 'min',
                value: 0,
                min: 0,
                max: 2000,
                step: 50,
                slide: function(event, ui) {
                    let saTxt = ui.value > 0 ? `INR ${ui.value}` : 'Free'
                     jQuery('.amnt_value').val(saTxt)
                }
            });
            let sliderAmount = jQuery('#amnt-range').slider('value')
            let saTxt = sliderAmount > 0 ? `INR ${sliderAmount}` : 'Free'
             jQuery('.amnt_value').val(saTxt)

            /*jQuery('#networkIDModal').on('hide.bs.modal', function (e) {
                jQuery("._play_now_btn").text('Play Now').css({'background-color': '#A00404', 'color': '#FFF'});
            })*/
            jQuery(".prachar-banner-link").on('click', function(){
                jQuery.get(
                    `${themeDir}ajax.php`,
                    {action: 'update_ad_banner_click', ad_id: jQuery(this).data('adid')}
                );
            });
            jQuery(window).scroll(function(){
                if (jQuery(window).scrollTop() >= 500) {
                    jQuery('.game-wrap').addClass('fixed-header-game');
                }
                else {
                    jQuery('.game-wrap').removeClass('fixed-header-game');
                }
            });
            jQuery(window).scroll(function() {    
                var scroll = jQuery(window).scrollTop();
                if (scroll >= 80) {
                    jQuery(".game-nav").addClass("fixednav");
                } else {
                    jQuery(".game-nav").removeClass("fixednav");
                }
            });
            jQuery('.menuquicknav').on('click', function(){
                jQuery(this).toggleClass('s1');
                jQuery('.optiongamenav').slideToggle();
            });        
            jQuery('html').on('click', function(event) {
                if (jQuery(event.target).closest('.games-logo').length === 0) {
                    jQuery(".menuquicknav").removeClass('s1');
                    jQuery('.optiongamenav').slideUp();
                }
            });
            jQuery(".cl-networks-wrap input[name='ch_network']").on('change', function(){
                $network = jQuery(".cl-networks-wrap input[name='ch_network']:checked");
                if ($network.val()) {
                    jQuery("#clNetworkForm").submit();
                }
            });
            jQuery(document).on("mouseenter", "._f-mtc", function(){
                jQuery(this).text('stop');
            });
            jQuery(document).on("mouseleave", "._f-mtc", function(){
                jQuery(this).text('finding match...');
            });
            let iv = setInterval(function(){
                let cTime = new Date();
                cTime = cTime.getTime();
                cTime = Math.round(cTime/1000);
                jQuery("._rpt").each(function(){
                    $this = jQuery(this);
                    let eTime = +$this.data('endsin');
                    let lbl = $this.data('label');
                    lbl = lbl.replace('_', ' ');
                    let remTime = eTime - cTime;
                    if (remTime > 0) {
                        let remStr = secondsToHms(remTime);
                        if ($this.parent().find('.face-off-timer').length > 0) {
                            $this.parent().find('.face-off-timer').html('<small>'+lbl+' ends in: <span>'+remStr+'</span></small>');
                        }
                    } else {
                        $this.attr('href', 'javascript:void(0)').addClass('disabled');
                    }
                });
            }, 1000);
            jQuery(document).on("click", "._gnid-action", function(){
                $this = jQuery(this);
                $wrapper = $this.parents("._gnid-wrapper");
                $envWrap = $wrapper.find("._env-wrap");
                let action = $this.attr('action');
                let network, networkId;
                switch(action) {
                    case 'edit':
                        // $ee = jQuery("._gnid-wrapper._ee");
                        // $wrapper.addClass('_ee');
                        $vLabel = $envWrap.find("._gnid-value");
                        network = $vLabel.attr('network');
                        networkId = $vLabel.text();
                        let actSave = '<span class="_gnid-action" action="save" title="Save"><i class="fa fa-check"></i></span>';
                        let actCancel = '<span class="_gnid-action" action="cancel" title="Cancel"><i class="fa fa-times"></i></span>';
                        let editField = '<input type="text" name="enid_field" network="'+network+'" value="'+networkId+'" />';
                        let action = $this.prev("._gnid-value").remove();
                        $envWrap.find("span._gnid-action[action='edit']").remove();
                        $envWrap.append(editField+actSave+actCancel);
                        break;
                    case 'save':
                        $eField = $envWrap.find("input[name='enid_field']");
                        network = $eField.attr('network');
                        networkId = $eField.val().trim();
                        if (networkId) {
                            $envWrap.find("._gnid-action[action='save']").attr('action', 'disabled');
                            $envWrap.find("._gnid-action[action='cancel']").attr('action', 'disabled');
                            $wrapper.find('.enid-res-wrap').html(`<small class="enid-res saving">${loadingSpinner(10)} Saving...</small>`);
                            jQuery.post(
                                `${themeDir}ajax.php`,
                                {action: 'update_network_id', user_id: currentUserId, network: network, network_id: networkId},
                                function(response) {
                                    $envWrap.find("._gnid-action[action='disabled']").remove();
                                    let resObj = jQuery.parseJSON(response);
                                    $envWrap.find("input[name='enid_field']").remove();
                                    $envWrap.find("span._gnid-action[action='save']").remove();
                                    $envWrap.find("span._gnid-action[action='cancel']").remove();
                                    if ($envWrap.find("._gnid-value").length > 0) {
                                        $envWrap.find("._gnid-value").text(resObj.network_id);
                                    } else {
                                        $envWrap.append(`<label class="_gnid-value" network="${network}">${resObj.network_id}</label>`)
                                    }
                                    $envWrap.append('<span class="_gnid-action" action="edit" title="Edit"><i class="fa fa-pencil"></i></span>');
                                    if (resObj.res) {                                        
                                        $wrapper.find('.enid-res-wrap').html('<small class="enid-res saved"><i class="fa fa-check"></i> Saved</small>');
                                        userNetworkIdsJson[network] = resObj.network_id;
                                    } else {
                                        $wrapper.find('.enid-res-wrap').html('<small class="enid-res failed"><i class="fa fa-exclamation"></i> Failed</small>');
                                    }
                                    setTimeout(function(){
                                        $wrapper.find(".enid-res-wrap .enid-res").remove();
                                    }, 5000);
                                }
                            );
                        }
                        break;
                    case 'cancel':
                        $eField = $envWrap.find("input[name='enid_field']");
                        network = $eField.attr('network');
                        networkId = $eField.val();
                        $envWrap.find("input[name='enid_field']").remove();
                        $envWrap.find("span._gnid-action[action='save']").remove();
                        $envWrap.find("span._gnid-action[action='cancel']").remove();
                        if ($envWrap.find("._gnid-value").length > 0) {
                            $envWrap.find("._gnid-value").text(userNetworkIdsJson[network]);
                        } else {
                            $envWrap.append('<label class="_gnid-value" network="'+network+'">'+userNetworkIdsJson[network]+'</label>');
                        }
                        $envWrap.append('<span class="_gnid-action" action="edit" title="Edit"><i class="fa fa-pencil"></i></span>');
                        break;
                }
            });
            // jQuery('.clickme_1 a').click(function(){
            jQuery('._cttabs li').click(function(){
                // jQuery('.clickme_1 a').removeClass('activelink');
                jQuery('._cttabs li').removeClass('activelink');
                jQuery(this).addClass('activelink');
                var tagid = jQuery(this).data('tag');
                jQuery('.gamecmpComponemt').removeClass('active').addClass('hide3');
                jQuery('#'+tagid).addClass('active').removeClass('hide3');                
                jQuery("._ft-filter input[type='radio']").prop('checked', false);
                jQuery("._ft-wrap[thisweek='yes']").show();
                jQuery("select[name='day_filter']").val('all');
            });
            jQuery("._gtf").on('change', function(){
                $this = jQuery(this);
                let sKey = $this.attr('skey');
                let sVal = $this.val();
                jQuery("._ft-wrap").hide();
                jQuery("._ft-wrap["+sKey+"='"+sVal+"']").show();
            });
            jQuery('.showmore_etm.free').click(function(){
                jQuery('.featured-game-wrap.free').addClass('op');
                jQuery("html, body").animate({
                    scrollTop:jQuery(".featured-game-wrap.free").offset().top-220
                }, "slow");
            });
            jQuery('.showmore_etm.paid').click(function(){
                jQuery('.featured-game-wrap.paid').addClass('op');
                jQuery("html, body").animate({
                    scrollTop:jQuery(".featured-game-wrap.paid").offset().top-220
                }, "slow");
            });
            jQuery('.showmore_etm2').click(function(){
                jQuery('._gtlm-wrap').addClass('op'); 
                jQuery("html, body").animate({
                    scrollTop:jQuery("._gtlm-wrap").offset().top-220
                }, "slow");
            });
            jQuery("select[name='day_filter']").on('change', function(){
                $this = jQuery(this);
                let day = $this.val();
                $wrap = $this.parents(".game-related-post-tournament");
                if (day == 'all') {
                    $wrap.find("._ft-wrap").show();
                } else if (day == 'thisweek') {
                   $wrap.find("._ft-wrap").hide();
                   $wrap.find("._ft-wrap[thisweek='yes']").show();                    
                } else {
                   $wrap.find("._ft-wrap").hide();
                   $wrap.find("._ft-wrap[day='"+day+"']").show();
                }
            });
            jQuery("._cttab_content:first").show();
            /* if in tab mode */
            jQuery("ul._cttabs li").click(function() {
              jQuery("._cttab_content").hide();
              let activeTab = jQuery(this).attr("rel"); 
              jQuery("#"+activeTab).fadeIn();       
              jQuery("ul._cttabs li").removeClass("active");
              jQuery(this).addClass("active");
              jQuery(".tab_drawer_heading").removeClass("d_active");
              jQuery(".tab_drawer_heading[rel^='"+activeTab+"']").addClass("d_active");
            });
            /* if in drawer mode */
            jQuery(".tab_drawer_heading").click(function() {
                jQuery("._cttab_content").hide();
                let d_activeTab = jQuery(this).attr("rel"); 
                jQuery("#"+d_activeTab).fadeIn();
                jQuery(".tab_drawer_heading").removeClass("d_active");
                jQuery(this).addClass("d_active");
                jQuery("ul._cttabs li").removeClass("active");
                jQuery("ul._cttabs li[rel^='"+d_activeTab+"']").addClass("active");
            }); 
            /* Extra class "tab_last" to add border to right side of last tab */
            jQuery('ul._cttabs li').last().addClass("tab_last");
            jQuery("select[name='cca_network']").on('change', function(){
                $this = jQuery(this);
                if ($this.val()) {
                    jQuery(".cca-network-id-wrap").html(`${loadingSpinner(15)} Loading network ID...`);
                    // display network id field
                    jQuery.get(
                        `${themeDir}ajax.php`,
                        {action: 'get_cca_network_id_field', game: gameId, network: $this.val(), user: currentUserId},
                        function(response) {
                            jQuery(".cca-network-id-wrap").html(response);
                        }
                    );
                } else {
                    jQuery(".cca-network-id-wrap").html('');
                }
            });
            // live video
            // getGameLiveVideo(gameId);
            jQuery(document).on("change", "input[name='challenge_winner']", function(){
                let winnerId = jQuery("input[name='challenge_winner']:checked").val();
                if (currentUserId != winnerId) {
                    if (jQuery("#oppiswinner").length == 0) {
                        jQuery(".ch-submit-btn-wrap").before('<div id="oppiswinner" class="text-center"><p><input type="checkbox" name="oppiswinner" /> You are submitting score with your Opponent as Winner. Please confirm.</p></div>');
                    }
                } else {
                    jQuery("#oppiswinner").remove();
                }
            });
            jQuery('#networkIDModal').on('hidden.bs.modal', function () {
                jQuery(".quick-face-bx").each(function(){
                    let fee = jQuery(this).find("._fo-action").data('fee');
                    jQuery(this).find("._play_now_btn").html('Join <span class="_cg-price">@ <i class="fa fa-inr"></i> '+fee+'</span>').css('background-color', '#A00404');
                });
            })
        });
        /*function getGameLiveVideo(gameId) {
            jQuery.ajax({
                type: "get",
                url: `${themeDir}ajax.php`,
                data: {action: 'get_game_live_video', game: gameId},
                timeout: 5000,
                success: function(response) {
                    if (response != 'na')
                        jQuery("#rglv").html(response);
                    else
                        jQuery("#rglv").html('');

                },
                // statusCode: {
                //     404: function() {
                //         console.log('404');
                //     }
                // },
                error: function(xhr, textStatus, errorThrown) {   
                    if (textStatus == 'timeout') { 
                        jQuery("#rglv").html('');
                    } 
                },
                async: true
            });
        }*/
        function secondsToHms(d) {
            d = +d;
            let h = Math.floor(d / 3600);
            let m = Math.floor(d % 3600 / 60);
            let s = Math.floor(d % 3600 % 60);

            let hDisplay = h > 0 ? h + (h == 1 ? " hour, " : " hours, ") : "";
            let mDisplay = m > 0 ? m + (m == 1 ? " min, " : " mins, ") : "";
            let sDisplay = s > 0 ? s + (s == 1 ? " sec" : " secs") : "";
            return hDisplay + mDisplay + sDisplay; 
        };
        function gameTournaments() {
            jQuery('html, body').animate({
                scrollTop: jQuery("#related-game-container").offset().top
            }, 500);
        };
        /*var showProgress = function(winRate, divId) {
          __showProgress(winRate, divId);
        }*/
        function getOnlineUsers(game_id) {
            jQuery(".online-user-category").html(`<p class="alert text-center">${loadingSpinner(40)}</p>`);
            jQuery.get(
                `${themeDir}ajax.php`,
                {action: 'display_online_users', game_id: game_id},
                function(response) {
                    jQuery(".online-user-category").html(response);
                }
            );
        };
        function refreshOnlineUsers() {
            var game_id = "12670";
            getOnlineUsers(game_id);
        };
        function getNetworkForm(faceOffId) {
            jQuery.ajax({
                type: "get",
                url: "https://www.ultimatebattle.in/faceoff-network-form.php",
                data: {action: 'get_network_form', faceoff: faceOffId},
                success: function(response) {
                    jQuery("._network-form-wrap").html(response);
                    jQuery("#networkIDModal").modal('show');
                },
            });
        }

        const showfaceOffJoinError = (faceOffId, errMsg) => {
            let $wrap = jQuery(`._face-off-${faceOffId} ._qck_row`)
            if ($wrap.find('._fo-join-error').length > 0) {
                $wrap.find(`._fo-join-error`).html(errMsg)
                return
            }
            jQuery(`._face-off-${faceOffId} ._play_now_btn`).after(`<p class="_fo-join-error error">${errMsg}</p>`)
        }

        const assignPlayerToFaceOff = (faceOffId, fee = null) => {
            if (!faceOffId) return

            jQuery.ajax({
                url: `${themeDir}ajax.php`,
                type: 'GET',
                dataType: 'json',
                data: {action: 'join_face_off', face_off_id: faceOffId, user_id: currentUserId},
                success: function(data, textStatus, xhr) {
                    if (!data.result) {
                        showfaceOffJoinError(faceOffId, data.message)

                        jQuery(`#foButton${faceOffId}`)
                        .attr(`href`, `javascript:joinFaceOff(${faceOffId}, ${fee})`)
                        .addClass(`_play_now_btn`)
                        .removeClass(`_f-mtc `)
                        .html(`Join <span class="_cg-price">@ <i class="fa fa-inr"></i> ${fee}</span>`)
                        .css({'background-color': '#A00404', 'color': '#FFF'})
                        
                        return
                    }

                    jQuery(`#foButton${faceOffId}`).text(`Play Now`).css({'background-color': '#A00404', 'color': '#FFF'})

                    if ('1st' == data.player) {
                        jQuery('#challengeReqModal .modal-title').text('Face-Off Joined Successfully')
                        jQuery("#challengeReqModal").modal('show')

                        fee = +fee
                        if (fee > 0) return

                        setTimeout(function(){
                            
                            /*// Time Out - stop finding
                            stopFinding(faceOffId, fee)
                            jQuery("#challengeReqModal").modal('hide')*/
                            

                            // Time Out - Assign a bot
                            jQuery.ajax({
                              url: `${themeDir}ajax.php`,
                              type: 'POST',
                              dataType: 'json',
                              data: {action: 'assign_a_bot_to_faceoff', face_off_id: faceOffId},
                              success: function(data, textStatus, xhr) {
                                if (!data.result) {
                                    stopFinding(faceOffId, fee)
                                    jQuery("#challengeReqModal").modal('hide')
                                }
                              },
                              error: function(xhr, textStatus, errorThrown) {
                                stopFinding(faceOffId, fee)
                                jQuery("#challengeReqModal").modal('hide')
                              }
                            });
                        }, 30000)

                        return
                    }
                },
                error: function(xhr, textStatus, errorThrown) {
                    showfaceOffJoinError(faceOffId, 'Something went wrong, please try again.')
                }
            });
        }

        function joinFaceOff(faceOffId, fee, network = '') {
            $button = jQuery(`a#foButton${faceOffId}`)
            $button.html(loadingSpinner(15)).css({'background-color': '#FFF'})

            if (['', 'pc', 'all_platforms'].includes(network)) {
                assignPlayerToFaceOff(faceOffId, fee)
                return
            }

            if (!network in userNetworkIdsJson) {
                $button.html(`Join <span class="_cg-price">@ <i class="fa fa-inr"></i> ${fee}</span>`).css({'background-color': '#A00404', 'color': '#FFF'})
                getNetworkForm(faceOffId)
                return
            }

            if (!userNetworkIdsJson[network]) {
                $button.html(`Join <span class="_cg-price">@ <i class="fa fa-inr"></i> ${fee}</span>`).css({'background-color': '#A00404', 'color': '#FFF'})
                getNetworkForm(faceOffId)
                return
            }

            assignPlayerToFaceOff(faceOffId, fee)
        }

        function removeFaceOffPlayer1(faceOffId, fee) {
            jQuery.ajax({
                type: `get`,
                url: `${themeDir}ajax.php`,
                data: {action: `remove_faceoff_player1`, id: faceOffId},
                success: function(response) {
                    if ('success' == response) {
                        jQuery(`._face-off-${faceOffId} ._q_figure.fl`).html('');
                        jQuery(`._face-off-${faceOffId} ._q_figure.fr`).html('');
                        jQuery(`._face-off-${faceOffId} ._f-mtc`).attr(`href`, `javascript:joinFaceOff(${faceOffId}, ${fee})`).addClass(`_play_now_btn`).removeClass(`_f-mtc`).html(`Join <span class="_cg-price">@ <i class="fa fa-inr"></i> ${fee}</span>`);
                    }
                },
                async: false
            });
        }

        function stopFinding(faceOffId, fee) {
            jQuery(`a#foButton${faceOffId}`).text(`Stopping match...`)
            removeFaceOffPlayer1(faceOffId, fee)
        }
        function submitChallengeScores(challengeID) {
            jQuery("#challenge_report_score_modal").modal('show');
            jQuery(".challenge-score-report-container").html(`<p class="text-center">${loadingSpinner(50)}<br />Loading...</p>`);
            jQuery.ajax({
                type: "get",
                url: `${themeDir}ajax.php`,
                data: {action: 'challege_report_score_form_data', challenge_id: challengeID},
                success: function(response) {
                    jQuery(".challenge-score-report-container").html(response);
                }
            });
        };
        function challengeScoreValidate() {
            var submittedby = jQuery('#cssubmittedby').val();
            var winner = jQuery('input[name="challenge_winner"]:checked').val();
            var player1score = jQuery('input[name="score1"]').val();
            var player2score = jQuery('input[name="score2"]').val();
            var player1_id = jQuery('input[name="player1_id"]').val();
            var player2_id = jQuery('input[name="player2_id"]').val();
            var flag = true;
            if ((winner == '') || (winner == null)) {
                jQuery('.select-winner-error small').html('<i class="fa fa-warning"></i> Please select winner');
                jQuery('.select-winner-error').show();
                flag = false;
            } else {
                jQuery('.select-winner-error').hide();
            }
            if (((player1score == '') || (player1score == null)) || ((player2score == '') || (player2score == null))) {
                jQuery('.score-error small').html('<i class="fa fa-warning"></i> Please enter both player\'s scores');
                jQuery('.score-error').show();
                flag = false;
            } else {
                jQuery('.score-error').hide();
                var winner_score = jQuery('#scoreplayer'+winner).val();
                var loser = (winner == player1_id) ? player2_id : player1_id;
                var loser_score = jQuery('#scoreplayer'+loser).val();
                winner_score = Number(winner_score);
                loser_score = Number(loser_score);
                if (winner_score <= loser_score) {
                    jQuery('.invalid-error small').html('<i class="fa fa-warning"></i> Winner\'s score must be greater');
                    jQuery('.invalid-error').show();
                    flag = false;
                } else {
                    jQuery('.invalid-error').hide();
                }
            }
            if (winner == submittedby) {
                var screenshot = jQuery('#ch_screenshot').val();
                if ((screenshot == '') || (screenshot == null)) {
                    jQuery('.upload-screenshot-error small').html('<i class="fa fa-warning"></i> Please upload screenshot of your win');
                    jQuery('.upload-screenshot-error').show();
                    flag = false;
                } else {
                    jQuery('.upload-screenshot-error').hide();
                }
            } else {
                jQuery('.upload-screenshot-error').hide();
                if (jQuery("input[name='oppiswinner']").is(':visible')) {
                    if (!jQuery("input[name='oppiswinner']").prop('checked')) {
                        if (jQuery("#oppiswinner").find(".confirm-opp-win").length == 0) {
                            jQuery("#oppiswinner").append('<p class="error confirm-opp-win"><small><i class="fa fa-warning"></i> Please confirm winner selection.</small></p>');
                        }
                        flag = false;
                    } else {
                        jQuery("#oppiswinner").find(".confirm-opp-win").remove();
                    }
                }
            }
            if (flag) {
                jQuery("input[name='report_challenge_score']").before(`<p>${loadingSpinner(20)} Submitting score...</p>`);
                jQuery("input[name='report_challenge_score']").attr('disabled', 'disabled');
                jQuery("input[name='report_challenge_score']").addClass('disabled');
            }
            return flag;
        }
        function selectScreenshot(id) {
            let fileName = jQuery(`#${id}`).val().replace(/C:\\fakepath\\/i, '');
            jQuery(".file-name").html(`<span class="success"><i class="fa fa-check"></i> ${fileName}</span>`);
            jQuery(".upload-screenshot-error").text('');
        };
        function updatefaceOff(faceOffId) {
            jQuery.get(
                `${themeDir}ajax.php`,
                {action: 'update_face_off', id: faceOffId},
                function(response){
                    jQuery(`.face-off-${faceOffId}-wrap`).html(response);
                }
            );
        }
        function saveNetworkId() {
            let flag = true;
            let userId = currentUserId;
            let faceOffId = jQuery("input[name='face_off_id']").val();
            let network = jQuery("input[name='network_name']").val();
            gameId = +"12670";
            $networkId = jQuery("#network_id");
            $networkId2 = jQuery("#network_id2");
            let networkId = jQuery("#network_id").val();
            let networkId2 = jQuery("#network_id2").val();
            if (['pubg_mobile', 'pubg_mobile_lite', 'bgmi_mobile'].includes(network)) {
                if (networkId) {
                    if (!networkId.match(/^[0-9]{8,13}$/)) {
                        flag = false;
                        $networkId.next('.error-text').html('<i class="fa fa-warning"></i> Invalid network ID');
                    } else {
                        $networkId.next('.error-text').html('&nbsp;');                
                    }
                } else {
                    flag = false;
                    $networkId.next('.error-text').html('<i class="fa fa-warning"></i> Please enter network ID');
                }
                if (networkId2) {
                    if (!networkId2.match(/^[a-zA-Z]{3,20}$/)) {
                        flag = false;
                        $networkId2.next('.error-text').html('<i class="fa fa-warning"></i> Invalid network ID');
                    } else {
                        $networkId2.next('.error-text').html('&nbsp;');
                    }
                } else {
                    flag = false;
                    $networkId2.next('.error-text').html('<i class="fa fa-warning"></i> Please enter network ID');
                }
            } else {
                if (!networkId) {
                    flg3268
                    ag = false;
                    $networkId.next('.error-text').html('<i class="fa fa-warning"></i> Please enter network ID');
                } else {
                    $networkId.next('.error-text').html('');                
                }
            }
            if (flag) {
                let params = {action: 'save_network', user_id: currentUserId, game_id: gameId, network: network, network_id: networkId};
                if (networkId2) params.network_id2 = networkId2;
                if (jQuery("#network_id").parent().find(".save-network-error").length == 0) {
                    jQuery("#network_id").parent().append(`<small class="save-network-error" style="color: #777777">${loadingSpinner(15)} Saving network id.</small>`);
                } else {
                    jQuery(".save-network-error").html(`${loadingSpinner(15)} Saving network id.`);
                    jQuery(".save-network-error").css('color', '#777777');
                }
                jQuery.post(
                    `${themeDir}ajax.php`,
                    params,
                    function(response) {
                        if ('success' == response) {
                            if (jQuery("#network_id").parent().find(".save-network-error").length == 0) {
                                jQuery("#network_id").parent().append('<small class="save-network-error" style="color: red"><i class="fa fa-check"></i> Network id saved successfully.</small>');
                            } else {
                                jQuery(".save-network-error").html('<i class="fa fa-check"></i> Network id saved successfully.');
                                jQuery(".save-network-error").css('color', 'green');
                            }
                            // jQuery("#get_network_modal").modal('hide');                    
                            // displayJoinTournamentModal();
                            // jQuery(".join-now").attr("href", "javascript:joinTournament()");
                            // location.reload();
                            jQuery("#networkIDModal").modal('hide');
                            userNetworkIdsJson[network] = networkId;
                            joinFaceOff(faceOffId);
                        } else {
                            if (jQuery("#network_id").parent().find(".save-network-error").length == 0) {
                                jQuery("#network_id").parent().append('<small class="save-network-error" style="color: red"><i class="fa fa-warning"></i> Something went wrong, please try again.</small>');
                            } else {
                                jQuery(".save-network-error").html('<i class="fa fa-warning"></i> Something went wrong, please try again.');
                                jQuery(".save-network-error").css('color', 'red');
                            }
                        }
                    }
                );
            }
        };
        /*function saveNetworkId() {
            let faceOffId = jQuery("input[name='face_off_id']").val();
            let networkName = jQuery("input[name='network_name']").val();
            let network_id = jQuery("#network_id").val();
            if (network_id.length == 0) {
                if (jQuery("._nid-modal-info").find(".save-network-error").length == 0) {
                    jQuery("._nid-modal-info").append('<small class="save-network-error" style="color: red"><i class="fa fa-warning"></i> Please enter network id.</small>');
                } else {
                    jQuery(".save-network-error").html('<i class="fa fa-warning"></i> Please enter network id.');
                }
            } else {
                if (jQuery("._nid-modal-info").find(".save-network-error").length == 0) {
                    jQuery("._nid-modal-info").append(`<small class="save-network-error" style="color: #777777">${loadingSpinner(15)} Saving network id.</small>`);
                } else {
                    jQuery(".save-network-error").html(`${loadingSpinner(15)} Saving network id.``);
                    jQuery(".save-network-error").css('color', '#777777');
                }
                jQuery.post(
                    `${themeDir}ajax.php`,
                    {action: 'save_network', user_id: currentUserId, network: networkName, network_id: network_id},
                    function(response) {
                        if (response == 'success') {
                            if (jQuery("._nid-modal-info").find(".save-network-error").length == 0) {
                                jQuery("._nid-modal-info").append('<small class="save-network-error" style="color: red"><i class="fa fa-check"></i> Network id saved successfully.</small>');
                            } else {
                                jQuery(".save-network-error").html('<i class="fa fa-check"></i> Network id saved successfully.');
                                jQuery(".save-network-error").css('color', 'green');
                            }
                            // location.reload();
                            jQuery("#networkIDModal").modal('hide');
                            joinFaceOff(faceOffId);
                        } else {
                            if (jQuery("._nid-modal-info").find(".save-network-error").length == 0) {
                                jQuery("._nid-modal-info").append('<small class="save-network-error" style="color: red"><i class="fa fa-warning"></i> Something went wrong, please try again.</small>');
                            } else {
                                jQuery(".save-network-error").html('<i class="fa fa-warning"></i> Something went wrong, please try again.');
                                jQuery(".save-network-error").css('color', 'red');
                            }
                        }
                    }
                );
            }
        };*/
        function gamerIdHelp() {
            jQuery('.modal').modal('hide');
            jQuery("#gamerIdHelp").modal('show');
        }
        function createGameChallengeAd() {
            let flag = true;
            let $network = jQuery("#createChallengeAdModal select[name='cca_network']");
            let chSettings = jQuery("#createChallengeAdModal #userGameSettings").serialize();
            let adAmount = 0;


            if (paidGamingSwitch && paidChallengesSwitch) {
              adAmount = jQuery("#createChallengeAdModal .amnt_value").val().replace('INR ', '');
            }
            let userDepositedCash = +"0";
            let userCash = +"0";
            let totaluserCash = userDepositedCash + userCash;
            if (!$network.val()) {
                flag = false;
                if ($network.closest('.cca-network-wrap').find('.cca-network-error').length > 0) {
                    $network.closest('.cca-network-wrap').find('.cca-network-error').text('Please select a network');
                } else {
                    $network.closest('.cca-network-wrap').append('<p class="cca-network-error error">Please select a network</p>');
                }
            } else {
                $network.closest(".cca-network-wrap").find('.cca-network-error').remove();
            }

            if (jQuery("#createChallengeAdModal input[name='network_id']").length > 0) {
                $networkId = jQuery("#createChallengeAdModal input[name='network_id']");
                if (!$networkId.val()) {
                    flag = false;
                    let errorText = $network.val() == 'steam' ? 'Link your steam ID' : 'Please enter network ID';
                    if ($networkId.closest('.cca-network-id-wrap').find('.cca-network-id-error').length > 0) {
                        $networkId.closest('.cca-network-id-wrap').find('.cca-network-id-error').text(errorText);
                    } else {
                        $networkId.closest('.cca-network-id-wrap').append('<p class="cca-network-id-error error">'+errorText+'</p>');
                    }
                } else {
                    $networkId.closest('.cca-network-id-wrap').find('.cca-network-id-error').remove();
                }
            }

           if (totaluserCash < adAmount) {
                flag = false;
                let remAmt = adAmount - totaluserCash;
                remAmt = Math.round(remAmt);
                let walletLink = "https://www.ultimatebattle.in/my-wallet.html?rac="+remAmt;
                let rwStr = '<span class="error"><i class="fa fa-warning"></i> Insufficient wallet balance, <a href="'+walletLink+'" target="_blank"><u>recharge wallet</u></a> (<i class="fa fa-inr"></i> '+remAmt+').</span>';
                if (jQuery("._cca-amt").parent().find("._cca-amt-error").length > 0) {
                    jQuery("._cca-amt").parent().find("._cca-amt-error").html(rwStr);
                } else {
                    jQuery("._cca-amt").parent().append('<p class="_cca-amt-error">'+rwStr+'</p>');
                }
            } else {
                if (jQuery("._cca-amt").parent().find("._cca-amt-error").length > 0) {
                    jQuery("._cca-amt").parent().find("._cca-amt-error").remove();
                }
            }

            if (flag) {
                // placeholder
                if (jQuery("#createChallengeAdModal .model_button").find("._act-info").length == 0) {
                    jQuery("#createChallengeAdModal .model_button").prepend(`<p class="_act-info"><span>${loadingSpinner(20)} Saving preferences...</span></p>`);
                } else {
                    jQuery("#createChallengeAdModal .model_button").find("._act-info").html(`<span>${loadingSpinner(20)} Saving preferences...</span>`);
                }
                jQuery.ajax({
                    type: 'GET',
                    url: `${themeDir}ajax.php`,
                    data: `action=post_challenge_ad&ch_ad_by=${currentUserId}&ch_ad_game=${gameId}&ch_ad_network=${$network.val()}&price=${adAmount}&${chSettings}`,
                    success: function(response) {
                        response = JSON.parse(response)
                        if (!response.result) {
                            if (jQuery("#createChallengeAdModal .model_button").find('._act-info').length > 0) {
                                jQuery("#createChallengeAdModal .model_button").find('._act-info').html(`<span class="error">${response.message}</span>`)
                                return
                            }
                            jQuery("#createChallengeAdModal .model_button").prepend(`<p class="_act-info"><span class="error">${response.message}</span></p>`)
                            return
                        }

                        jQuery("#createChallengeAdModal").modal('hide');
                        jQuery("._act-info").remove();

                        jQuery('#challengeReqModal .modal-title').text('Challenge Request Created Successfully')
                        jQuery("#challengeReqModal").modal('show')
                        setTimeout(function(){
                            cancelChallengeAd(response.challenge_id)
                            jQuery("#challengeReqModal").modal('hide')
                        }, 180000)

                        // display open challenge suggestions
                        /*let adAmount = jQuery("#amnt-range").slider("value");
                        let params = {action: 'search_opponent_suggestions', game_id: gameId, network: networkName, amount: adAmount};
                        let amtRange = [];
                        amtRange.push(adAmount - 100);
                        amtRange.push(adAmount + 100);
                        params.amt_range = amtRange;
                        jQuery.get(
                            `${themeDir}ajax.php`,
                            params,
                            function(respon) {
                                if (respon != 'not_found') {
                                    jQuery("._sr-wrap").html(respon);
                                    jQuery(".ub_list_user").text('Choose from the above suggested players or check out Challenge Ads and other Online Players');    
                                    jQuery(".ub_search_reasultbx").show();
                                    jQuery('html, body').animate({
                                        scrollTop: jQuery("#ub_search_reasultbx").offset().top
                                    }, 1000);
                                }
                            }
                        );*/

                        // add user to rocket group
                        /*jQuery.get(
                            `${themeDir}ajax.php`,
                            {action: 'add_user_to_rocket_group', group_id: groupId},
                            function(resp) {
                                if (resp == 'success') {
                                    if (canGroupChat == 'no') {
                                        let sgcButton = '<form action="" onsubmit="return sendGroupChat()"><input type="text" name="text_to_send" class="group-chat-text" placeholder="enter text here" /><button type="submit" class="group-chat-submit" name="send_to_group"><i class="fa fa-paper-plane"></i></button></form>';
                                        jQuery(".group-chat").after(sgcButton);
                                    }
                                }
                            }
                        );*/
                    }
                });
            }

            return false;
        }
        function cancelChallengeAd(chAdId) {
            jQuery(`#chadrow${chAdId}`).find(`.my-challenge-ad`).html(`<span>${loadingSpinner(15)}</span>`);
            jQuery.get(
                `${themeDir}ajax.php`,
                {action: `cancel_challenge_ad`, ch_ad_id: chAdId},
                function(response) {
                    if (response == 'success') {
                        jQuery(`#chadrow${chAdId}`).fadeOut(function(){
                            jQuery(`#chadrow${chAdId}`).remove();
                        });
                    }
                }
            );
        };
        function acceptChallengeAd(challengeID, gameId, gameSlug, networkName, senderName, matchPrice) {
            matchPrice = +matchPrice;
            if (!challengeID) return;
            let confirmationMessage = `Are you sure to accept the challenge?\nYou are accepting challenge request from ${senderName}`;
            if (matchPrice) confirmationMessage += `\nINR ${matchPrice} will be deducted from your wallet.`;
            if (!confirm(confirmationMessage)) return;
            jQuery(`.chad${challengeID} a.challenge_btn12 span`).html(loadingSpinner(15));
            jQuery(`.ch-${challengeID} .lb-inr-section`).append(`<p class="_accepting-challenge" style="float: left;"><small class="success">Accepting request...</small></p>`);
            jQuery("._crsac").html(loadingSpinner(15));
            jQuery.get(
                `${themeDir}ajax.php`,
                {
                    action: `accept_challenge_ad`,
                    challenge_id: challengeID,
                    user_id: currentUserId
                },
                function(response) {
                    if (response == 'success') {
                        jQuery(`.chad${challengeID}`).remove();
                        jQuery(`.ch-${challengeID}`).remove();
                        // renderMatchArea(challengeID);
                        jQuery(`._crs._${challengeID}`).remove();
                        // location.reload();
                        // challengesRemainingTime();
                        window.location.href = `${siteUrl}${gameSlug}.html`;
                    } else {
                        jQuery(`.chad${challengeID} a.challenge_btn12 span`).html(`<i class="fa fa-check"></i> Accept`);
                        jQuery(`.ch-${challengeID} .lb-inr-section ._accepting-challenge`).remove();
                        jQuery(`#alertModal .alert-modal-content`).html(response);
                        jQuery(`#alertModal`).modal('show');
                        jQuery(`._crsac`).html('Accept');
                    }
                }
            );
        }
        function renderLadderBoard(gameId) {
            jQuery.ajax({
                type: "get",
                url: `${themeDir}ajax.php`,
                data: {action: `render_ladder_board`, game_id: gameId},
                success: function(response) {
                    jQuery("#ladderboard").html(response);
                    if (response) jQuery(".leaderboard-shedule").show();
                },
                async: true
            });
        }
        if (gameLadderboard) renderLadderBoard(gameId);

        function renderGameNews(gameId) {
            jQuery.ajax({
                type: "get",
                url: `${themeDir}ajax.php`,
                data: {action: 'render_game_news', game_id: gameId},
                success: function(response) {
                    jQuery("#gameNews").html(response);
                },
                async: true
            });
        }
        renderGameNews(gameId);

        chChannel = pusher.subscribe('challenge');
        faceOffChannel = pusher.subscribe('faceoff');
        facebook = pusher.subscribe('facebook');
        chChannel.bind('request', function(data){
            if (currentUserId == data.sender) {
                $a = jQuery(".active-challenge-wrap table tbody tr#opRow"+data.opponent+" ._challenge_link_btn a");
                $a.attr('href', 'javascript:cancelChallengeRequest('+data.id+')');
                $a.html('<span><i class="fa fa-times"></i> Cancel</span>');
                $a.addClass("challenge_btn12 my-challenge-ad");                
            }
            if (currentUserId == data.opponent) {
                $a = jQuery(".active-challenge-wrap table tbody tr#opRow"+data.sender+" ._challenge_link_btn a");
                let attributes = {
                    'href': '#',
                    'data-challenge_id': data.id,
                    'data-game_id': data.game_id,
                    'data-game_slug': data.game_slug,
                    'data-network_name': data.network_name,
                    'data-sender_name': data.player1_name,
                    'data-match_price': data.match_price
                };
                $a.attr(attributes);
                $a.addClass('acc-ch-req');
                $a.html('<span>Accept</span>');
                $a.removeClass("challenge_btn12 my-challenge-ad");
            }
        });
        chChannel.bind('cancel', function(data){
            if (currentUserId == data.sender) {
                $a = jQuery(".active-challenge-wrap table tbody tr#opRow"+data.opponent+" ._challenge_link_btn a");
                $a.attr('href', 'javascript:challengePop('+data.opponent+', '+data.game_id+')');
                $a.html('<span>Challenge <i class="fa fa-long-arrow-right" aria-hidden="true"></i></span>');
                $a.removeClass("challenge_btn12 my-challenge-ad");
                jQuery(`.ch-${data.id}`).remove()
            }
            if (currentUserId == data.opponent) {
                $a = jQuery(".active-challenge-wrap table tbody tr#opRow"+data.sender+" ._challenge_link_btn a");
                $a.attr('href', 'javascript:challengePop('+data.opponent+', '+data.game_id+')');
                $a.html('<span>Challenge <i class="fa fa-long-arrow-right" aria-hidden="true"></i></span>');
                $a.removeClass("challenge_btn12 my-challenge-ad");   
            }
        });
        chChannel.bind('completed', function(data){
            // jQuery("#ACW #AC"+data.id).remove();
            
            ///////////////////////////
            // refresh face-off area //
            ///////////////////////////
            // Display challenge result modal
            if (data.faceoff && ((currentUserId == data.challenge_from) || (currentUserId == data.challenge_to))) {
                let h3Text = currentUserId == data.winner_id ? '<i class="fa fa-trophy"></i> You Won' : '<i class="fa fa-frown-o"></i> You Lose';
                let player1Avatar, player2Avatar, player1Name, player2Name, player1Point, player2Point, player1PointDiff, player2PointDiff, scores, player1Wins, player2Wins;
                if (currentUserId == data.challenge_from) {
                    player1Avatar = data.avatar1;
                    player2Avatar = data.avatar2;
                    player1Name = data.player1name+'<span>@'+data.player1username+'</span>';
                    player2Name = data.player2name+'<span>@'+data.player2username+'</span>';
                    if (data.point1) {
                        player1Point = Math.round(data.point1);
                        if (data.diff1) {
                            player1Point += '('+Math.round(data.diff1)+')';
                        }
                    }
                    if (data.point2) {
                        player2Point = Math.round(data.point2);
                        if (data.diff2) {
                            player2Point += '('+Math.round(data.diff2)+')';
                        }
                    }
                    scores = data.score1+' - '+data.score2;
                    player1Wins = data.winner_id == data.challenge_from ? true : false;
                    player2Wins = data.winner_id == data.challenge_to ? true : false;
                } else {
                    player1Avatar = data.avatar2;
                    player2Avatar = data.avatar1
                    player1Name = data.player2name+'<span>@'+data.player2username+'</span>';
                    player2Name = data.player1name+'<span>@'+data.player1username+'</span>';
                    if (data.point2) {
                        player1Point = Math.round(data.point2);
                        if (data.diff2) {
                            player1Point += '('+Math.round(data.diff2)+')';
                        }
                    }
                    if (data.point1) {
                        player2Point = Math.round(data.point1);
                        if (data.diff1) {
                            player2Point += '('+Math.round(data.diff1)+')';
                        }
                    }
                    scores = data.score2+' - '+data.score1;
                    player1Wins = data.winner_id == data.challenge_to ? true : false;
                    player2Wins = data.winner_id == data.challenge_from ? true : false;
                }
                jQuery("#challengeResultModal .modal-body h3").html(h3Text);
                // player1
                jQuery("#challengeResultModal li.player1-data figure img").attr('src', player1Avatar);
                jQuery("#challengeResultModal li.player1-data h4").html(player1Name);
                if (player1Wins) {
                    jQuery("#challengeResultModal li.player1-data ._winpoints").removeClass('l');
                    jQuery("#challengeResultModal li.player1-data ._winpoints").addClass('w');
                } else {
                    jQuery("#challengeResultModal li.player1-data ._winpoints").removeClass('w');
                    jQuery("#challengeResultModal li.player1-data ._winpoints").addClass('l');
                }
                if (player1Point) {
                    jQuery("#challengeResultModal li.player1-data ._winpoints").html('Points <span>'+player1Point+'</span>');               
                }

                // scores
                jQuery("#challengeResultModal li.mid span").text(scores);

                // player2
                jQuery("#challengeResultModal li.player2-data figure img").attr('src', player2Avatar);
                jQuery("#challengeResultModal li.player2-data h4").html(player2Name);
                if (player2Wins) {
                    jQuery("#challengeResultModal li.player2-data ._winpoints").removeClass('l');
                    jQuery("#challengeResultModal li.player2-data ._winpoints").addClass('w');
                } else {
                    jQuery("#challengeResultModal li.player2-data ._winpoints").removeClass('w');
                    jQuery("#challengeResultModal li.player2-data ._winpoints").addClass('l');
                }
                if (player2Point) {
                    jQuery("#challengeResultModal li.player2-data ._winpoints").html('Points <span>'+player2Point+'</span>');
                }

                // Display modal
                if (jQuery("#challengeResultModal").is(":hidden")) {
                    jQuery("#challengeResultModal").modal('show');              
                }
            }
        });
        chChannel.bind('expired', function(data){
            if (data.faceoff) {
                updatefaceOff(data.faceoff_id);
            }
        });
        faceOffChannel.bind('update', function(data){
            updatefaceOff(data.id);
            if ('chessmatchdata' in data) {
                if (data.chessmatchdata.chessmatchid && ((currentUsername == data.chessmatchdata.white) || (currentUsername == data.chessmatchdata.black))) {
                    /*jQuery(".match-area-heading ._cmst").html('');
                    let src = siteUrl+'play/index.php?user='+currentUsername+'&gameid='+data.chessmatchid;
                    jQuery("#chess_match_area iframe").attr('src', src);
                    jQuery('#chess_match_area').show();*/
                    // location.reload();
                    window.location.hash = '#gameTitle';
                    window.location.reload(true);
                }                
            }
        });
        facebook.bind('live_vodeos', function(data){
            jQuery.each(data.entry, function(key, val){
                let videoId = val.changes[0].value.id;
            });
        });
        faceOffChannel.bind('accept', function(data){
            updatefaceOff(data.id);
            if ('chessmatchdata' in data) {
                if (data.chessmatchdata.chessmatchid && ((currentUsername == data.chessmatchdata.white) || (currentUsername == data.chessmatchdata.black))) {
                    playBeep();
                    /*jQuery(".match-area-heading ._cmst").html('');
                    let src = siteUrl+'play/index.php?user='+currentUsername+'&gameid='+data.chessmatchid;
                    jQuery("#chess_match_area iframe").attr('src', src);
                    jQuery('#chess_match_area').show();*/
                    // location.reload();
                    window.location.hash = '#gameTitle';
                    window.location.reload(true);
                }
            }
        });

        chessMatch = pusher.subscribe('chessmatch')
        chessMatch.bind('update', function(data){
            if (!('challenge' == data.matchtype && 'over' == data.status)) return
            $faceOff = jQuery('.face-off-wrapper').find(`._fo-cid-${data.matchid}`)
            if (0 == $faceOff.length) return

            let btnText, txtColor, bgColor;
            if (currentUsername == data.winner) {
                btnText = 'You Won'
                txtColor = 'rgb(0, 128, 0)'
                bgColor = 'rgba(0, 136, 0, 0.2)'
            } else {
                btnText = 'You lose'
                txtColor = 'rgb(160, 4, 4)'
                bgColor = 'rgba(160, 4, 4, 0.02)'
            }
            let resHtml = `<span class="_cm-res" style="border: none; color: ${txtColor}; display: inline-block; width: 139px; text-align: center; background-color: ${bgColor}; cursor: default; font-family: ProximaNovaBold; padding: 7px 13px; text-transform: uppercase; font-size: 15px; border-radius: 3px; float: left; margin-left: 47px">${btnText}</span>`
            if (jQuery(`.face-off-wrapper ._fo-cid-${data.matchid} ._qck_chat ._cm-res`).length > 0) {
                jQuery(`.face-off-wrapper ._fo-cid-${data.matchid} ._qck_chat ._cm-res`).remove()
            }
            jQuery(`form#playMatchForm${data.matchid}`).remove()
            jQuery(`.face-off-wrapper ._fo-cid-${data.matchid} ._qck_chat .c-all`).after(resHtml)
        })

        /*chChannel.bind('ad_posted', function(data){
            if (data.game_id != gameId) return

            jQuery.get(
                `${themeDir}ajax.php`,
                {
                    action:     'render_game_challenge_ad',
                    user:       currentUserId,
                    postedby:   data.posted_by,
                    gameid:     data.game_id,
                    network:    data.network,
                    myad:       currentUserId == data.posted_by
                },
                function(response) {
                    jQuery('#gameOnlinePlayers table tbody').prepend(response)
                }
            );
        })*/
    </script>
    	<div class="signup-bonus">
		<a href="javascript:void(0)" class="_sif"><img src="https://www.ultimatebattle.in/wp-content/uploads/game-banners/25bonus.png"></a>
	</div>
	<div class="mbdownload-app-front dwnloand-apk">
		<p>Register and Get Upto Rs 25 Bonus Cash</p>
		<a href="https://www.ultimatebattle.in/ub-android-app/ub.apk" class="_da">
			<span class="UBButton-label">DOWNLOAD PRO APP</span>
		</a>
	</div>		<div class="modal fade" id="alertModal" tabindex="-1" role="dialog" aria-labelledby="alertModalLabel" aria-hidden="true">
		    <div class="modal-dialog modal-md modal-dialog-centered">
		        <div class="modal-content">
		            <div class="modal-body-ub">
		            	<button type="button" class="close" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">&times;</span></button>
		            			                <div class="alert-modal-content">
		                <p class="text-center"><img src="https://www.ultimatebattle.in/wp-content/themes/blackfyre/img/loading.gif" alt="Loading..." style="width: 50px; height: 50px" /></p>		                </div>
		                		            </div>
		        </div>
		    </div>
		</div>
	
<footer id="footerinfoarea">
		<div class="footer-appliction">
    	<div class="container">
      		<div class="row">
        		<div class="col-md-6 col-6">
          			<figure class="_mbapp"><img src="https://www.ultimatebattle.in/wp-content/themes/blackfyre/img/moobile-app.png" /></figure>
        		</div>
        		<div class="col-md-6  col-6">
          			<div class="_ub-app-ft">
            			<h3><span>Fast & Easy to Use</span></h3>
            			<figure class="scanbar"><img src="https://www.ultimatebattle.in/wp-content/uploads/qrcode.svg" /></figure>
            			<ul>
              				<li class="wn">Win Cash Prize Money</li>
              				<li class="acf">Access exclusive Features</li>
            			</ul>

            			<!-- Download app button -->
	            		<div class="ubapp-dwn">
	            			<a href='https://www.ultimatebattle.in/ub-android-app/ub.apk' class="ub2-app-download mdn _da">
	            				<i class="fa fa-download" aria-hidden="true"></i> <span>Download App</span>
	            			</a> 
	            			<a href='https://www.ultimatebattle.in/ub-android-app/ub.apk' class="ub2-app-download dwnloand-apk _da">
	            				<i class="fa fa-download" aria-hidden="true"></i><span>Download App</span>
	            			</a>
	            		</div>

	            		<!-- Get app link -->
          				<div class="ft-field">
          					<label>Get the link on your mobile</label>
          					<div class="phone-num-bx">
          						<span>+91</span>
          						<input type="text" name="mobile_number" placeholder="Input your mobile number">
          						<a href="javascript:getAppLink()" style="float: right; font-size: 28px; margin-top: -31px; padding-right: 13px; "><i class="fa fa-paper-plane"></i></a>
          					</div>
          					<p class="mobile-number-error"></p>
          					<div class="note">Dont worry we respect your privacy, we wont use your number for any thing else</div>
          				</div>
          			</div>
		        </div>
			</div>
	    </div>
	</div>
	
	<!-- modal - vip subscriber -->
	<div id="vip_subscibe" class="modal fade" role="dialog">
	  	<div class="modal-dialog">
	  		<!-- Modal content-->
	  		<div class="modal-content">
	  			<div class="vip_subscription-popup">
	  				<h4 class="modal-title">Congratulations! <span> You're now VIP member</span></h4>
	  				<div class="modal-body">
	  					<div class="vip-logo">
	  						<img src="https://www.ultimatebattle.in/wp-content/themes/blackfyre/images/vip-logo-app.png" />
	  					</div>
	  					<p>Enjoy Unlimited* free gameplay and Redeem UB coins to get exciting in-game items</p>
	  					<div class="_v-btn-close">
	  						<button type="button" class="btn btn-default" data-dismiss="modal">ok</button>
	  					</div>
	  				</div>
	  			</div>
	  		</div>
	  	</div>
	</div>
  
	<!--div class="top-footerinfo">
		<div class="container">
			<div class="row">
				<div class="col-lg-4 col-md-4"> 
					<h2 class="h2_heading">UB <span>Pro App</span><small>Fast &amp; Easy to Use</small></h2>
					<div class="_footer-ub-gpb">
						<!-- <a href='https://play.google.com/store/apps/details?id=com.brainpulse.ultimatebattle&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1' target="_blank"> -->
						<!--a href='' class="mdn">
							<img alt='Get it on Google Play' src='/images/google-play-badge.png' />
						</a>
                        <a href='' class="dwnloand-apk">
							<img alt='Get it on Google Play' src='/images/google-play-badge.png' />
						</a>
					</div>
					<!-- <div class="ft-field">
						<label>Get the link on your mobile</label>
						<div class="phone-num-bx">
							<span>
								+91
							</span>
							<input type="text" name="mobile_number" placeholder="Input your mobile number">
							<a href="javascript:getAppLink()" style="float: right; font-size: 28px; margin-top: -31px; padding-right: 13px; "><i class="fa fa-paper-plane"></i></a>
						</div>
						<p class="mobile-number-error"></p>
						<div class="note">Dont worry we respect your privacy, we wont
						use your number for any thing else</div>
					</div> -->
				<!--/div>
				<div class="col-lg-3 col-md-3 col-md-offset-1 scan-code-bx">
					<h4 style="margin-bottom: 0" class="mobile-text">Scan QR Code to Download App</h4>
					<div class="app-qr-code">
						<img src="" />
											</div>
				</div>
				<div class="col-lg-4 col-md-4">
					<div class="app-img"><img class="appimg" src="/img/app-img.jpg"></div>
				</div>
			</div>
		</div>
	</div-->

	<div class="footer-middle">
		<div class="container">
			<div class="row">
				<div class="col-md-4">
					<h3 class="h3_title">Important <small>Links</small></h3>
										<div id="footer_menu">
						<ul>
							<li><a href="https://www.ultimatebattle.in/about-us.html">About Us</a></li>

														<li><a href="https://www.ultimatebattle.in/how-it-works.html">How It Works?</a></li>
							<li><a href="https://www.ultimatebattle.in/aiel-2021.html" target="_blank">AIEL 2021</a></li>
							<li><a href="https://www.ultimatebattle.in/organizer.html">Organize your Event</a></li>
							<!--li><a href="">Blog</a></li-->
							

														<li><a href="https://www.ultimatebattle.in/contact.html">Contact Us</a></li>
							<li><a href="https://www.ultimatebattle.in/help-faq.html">Help & FAQ</a></li>
							<li><a href="https://www.ultimatebattle.in/fair-play.html">Fair Play</a></li>
							<li><a href="https://www.ultimatebattle.in/return-refund-policy.html">Return and Refund Policy</a></li>
							<li><a href="https://www.ultimatebattle.in/disclaimer.html">Disclaimer</a></li>
							
							<li><a href="https://www.ultimatebattle.in/privacy-policy.html">Privacy Policy</a></li>
							<li><a href="https://www.ultimatebattle.in/terms-and-conditions.html">Terms and Conditions</a></li>

														<li><a href="https://www.ultimatebattle.in/shipping-policy.html">Shipping Policy</a></li>
							<li><a href="https://www.ultimatebattle.in/intellectual-property.html">Intellectual Property</a></li>
							<li><a href="https://www.ultimatebattle.in/career.html">Jobs and Career</a></li>
							<li><a href="https://www.ultimatebattle.in/press-releases.html">In the Press</a></li>
							<li><a href="https://www.ultimatebattle.in/advertise-with-us.html">Advertise With Us</a></li>
													</ul>
					</div>
				</div>

				<div class="col-md-4">
											<h3 class="h3_title text-center">We are <small>Social</small> <span>Follow UB pages for latest updates</span></h3>
						<div class="social-area">
							<ul>
																	<li>
										<a href="https://www.facebook.com/UltimateBattleIndia" target="_blank" class="fb">facebook</a>
									</li>
								
																	<li>
										<a href="https://www.youtube.com/channel/UCIB9pxmYXV2RvGaaWBy9ppw" target="_blank" class="ytb">youtube</a>
									</li>
								
																	<li>
										<a href="https://www.instagram.com/ultimatebattleindia/" target="_blank" class="ins">instagram</a>
									</li>
								
																	<li>
										<a href="https://www.twitch.tv/ultimatebattleindia" target="_blank" class="twitch">twitch</a>
									</li>
								
																	<li>
										<a href="https://twitter.com/ultimatebatle" target="_blank" class="tw">twitter</a>
									</li>
								
								
								
																	<li>
										<a href="https://discord.gg/AfTNZZPQVA" target="_blank" class="discord">Discord</a>
									</li>
															</ul>
						</div>
					
					<div class="ft-logo" >
						<a href="https://www.ultimatebattle.in">
														<img src="https://www.ultimatebattle.in/wp-content/uploads/2015/02/ub-logo-beta.png" alt="Ultimate Battle - Online Gaming">
													</a>
																				<!-- <p>&copy; </p> -->
							<p>&copy; 2023 Powered By Ultimate Battle Pvt Ltd </p>
																		</div>
				</div>

				<div class="col-md-4 address-bx">
											<h3 class="h3_title">Connect <small>With Us</small></h3>
						<div class="ub-address">
							<!--p><i class="fa fa-phone"></i> <a href="tel:9899212401">(+91) 9899-212-401</a><small class="footer-support-timing">( 10 am to 8 pm )</small></p-->
								<p><i class="fa fa-whatsapp"></i> <a href="https://wa.me/+919899212401" target="_blank">(+91) 9899-212-401</a></p><p><span><i class="fa fa-envelope-o"></i> <a href="mailto:support@ultimatebattle.in">support@ultimatebattle.in</a></span></p><div><p style="display:inline-block"><i class="fa fa-map-marker"></i> <span class="footer-address">C-102, Sector 65,<br />
Noida, Uttar Pradesh</span></p></div>						</div>
									</div>
			</div>

						<div class="row">
				<div class="col-lg-2"></div>
				<div class="col-lg-8">
					<div class="_disclaimer">
						<p class="text-center">Disclaimer</p>
												<p class="text-center">Ultimate Battle does not offer its services in Assam, Odisha, Sikkim, Nagaland, Telangana, Karnataka, Meghalaya, Arunachal Pradesh and Andhra Pradesh</p>
					</div>
				</div>
				<div class="col-lg-2"></div>
			</div>

					</div>
	</div>

			<div class="footer-last">
			<div class="container">
				<div class="row">
					<div class="col-lg-12">
						<img src="https://www.ultimatebattle.in/wp-content/themes/blackfyre/img/payment-method-img-2.png">
					</div>
				</div>
			</div>
		</div>
	
	<div class="_occ-wrapper">
		<div class="clear"></div>
	</div>
</footer>

<div class="ub-apk-app">
	<button>X</button>
	<h3>HOW TO INSTALL <span>UB PRO App</span></h3>
	<ul>
		<li><span>1</span>Download the APK</li>
		<li><span>2</span>Allow Install from unknown Sources.</li>
		<li><span>3</span>Install the Apk</li>
		<li><span>4</span>Open Ultimate Battle to Play & Win Rewards</li>
	</ul>
</div>

</div><!-- end of div.wrapper.new -->


<script>
	function alertModal(message = '') {
		message = message.trim()
		if (!message) return
		jQuery('#alertModal .alert-modal-content').html(message)
		jQuery('#alertModal').modal('show')
	}


	function download_file(fileURL, fileName) {
		if (!window.ActiveXObject) {
			// for non-IE
			let save = document.createElement('a')
			save.href = fileURL
			save.target = '_blank'
			let filename = fileURL.substring(fileURL.lastIndexOf('/') + 1)
			save.download = fileName || filename
			if (navigator.userAgent.toLowerCase().match(/(ipad|iphone|safari)/) && navigator.userAgent.search("Chrome") < 0) {
				document.location = save.href
				// window event not working here
			} else {
				let evt = new MouseEvent('click', {
					'view': window,
					'bubbles': true,
					'cancelable': false
				})

				save.dispatchEvent(evt)

				(window.URL || window.webkitURL).revokeObjectURL(save.href)
			}
		} else if (!!window.ActiveXObject && document.execCommand) {
			// for IE < 11
			let _window = window.open(fileURL, '_blank')
			_window.document.close()
			_window.document.execCommand('SaveAs', true, fileName || fileURL)
			_window.close()
		}
	}

	let ubSubsResponse = ''	
	ubSubsResponse = ubSubsResponse ? JSON.parse(ubSubsResponse) : {};
	if ('buy' in ubSubsResponse) {
		if (ubSubsResponse.buy.result) {
			jQuery("#vip_subscibe").modal('show')
		} else {
			let message = `<p class="alert alert-danger"><i class="fa fa-times"></i> ${ubSubsResponse.buy.message}</p>`
			alertModal(message)
		}
	}
</script>

	<!--[if lte IE 8]>
	<style>
		.attachment:focus {
			outline: #1e8cbe solid;
		}
		.selected.attachment {
			outline: #1e8cbe solid;
		}
	</style>
	<![endif]-->
	<script type="text/html" id="tmpl-media-frame">
		<div class="media-frame-menu"></div>
		<div class="media-frame-title"></div>
		<div class="media-frame-router"></div>
		<div class="media-frame-content"></div>
		<div class="media-frame-toolbar"></div>
		<div class="media-frame-uploader"></div>
	</script>

	<script type="text/html" id="tmpl-media-modal">
		<div class="media-modal wp-core-ui">
			<button type="button" class="media-modal-close"><span class="media-modal-icon"><span class="screen-reader-text">Close media panel</span></span></button>
			<div class="media-modal-content"></div>
		</div>
		<div class="media-modal-backdrop"></div>
	</script>

	<script type="text/html" id="tmpl-uploader-window">
		<div class="uploader-window-content">
			<h1>Drop files to upload</h1>
		</div>
	</script>

	<script type="text/html" id="tmpl-uploader-editor">
		<div class="uploader-editor-content">
			<div class="uploader-editor-title">Drop files to upload</div>
		</div>
	</script>

	<script type="text/html" id="tmpl-uploader-inline">
		<# var messageClass = data.message ? 'has-upload-message' : 'no-upload-message'; #>
		<# if ( data.canClose ) { #>
		<button class="close dashicons dashicons-no"><span class="screen-reader-text">Close uploader</span></button>
		<# } #>
		<div class="uploader-inline-content {{ messageClass }}">
		<# if ( data.message ) { #>
			<h2 class="upload-message">{{ data.message }}</h2>
		<# } #>
					<div class="upload-ui">
				<h2 class="upload-instructions drop-instructions">Drop files anywhere to upload</h2>
				<p class="upload-instructions drop-instructions">or</p>
				<button type="button" class="browser button button-hero">Select Files</button>
			</div>

			<div class="upload-inline-status"></div>

			<div class="post-upload-ui">
				
				<p class="max-upload-size">Maximum upload file size: 80 MB.</p>

				<# if ( data.suggestedWidth && data.suggestedHeight ) { #>
					<p class="suggested-dimensions">
						Suggested image dimensions: {{data.suggestedWidth}} by {{data.suggestedHeight}} pixels.					</p>
				<# } #>

							</div>
				</div>
	</script>

	<script type="text/html" id="tmpl-media-library-view-switcher">
		<a href="/free-fire.html?mode=list" class="view-list">
			<span class="screen-reader-text">List View</span>
		</a>
		<a href="/free-fire.html?mode=grid" class="view-grid current">
			<span class="screen-reader-text">Grid View</span>
		</a>
	</script>

	<script type="text/html" id="tmpl-uploader-status">
		<h2>Uploading</h2>
		<button type="button" class="button-link upload-dismiss-errors"><span class="screen-reader-text">Dismiss Errors</span></button>

		<div class="media-progress-bar"><div></div></div>
		<div class="upload-details">
			<span class="upload-count">
				<span class="upload-index"></span> / <span class="upload-total"></span>
			</span>
			<span class="upload-detail-separator">&ndash;</span>
			<span class="upload-filename"></span>
		</div>
		<div class="upload-errors"></div>
	</script>

	<script type="text/html" id="tmpl-uploader-status-error">
		<span class="upload-error-filename">{{{ data.filename }}}</span>
		<span class="upload-error-message">{{ data.message }}</span>
	</script>

	<script type="text/html" id="tmpl-edit-attachment-frame">
		<div class="edit-media-header">
			<button class="left dashicons <# if ( ! data.hasPrevious ) { #> disabled <# } #>"><span class="screen-reader-text">Edit previous media item</span></button>
			<button class="right dashicons <# if ( ! data.hasNext ) { #> disabled <# } #>"><span class="screen-reader-text">Edit next media item</span></button>
		</div>
		<div class="media-frame-title"></div>
		<div class="media-frame-content"></div>
	</script>

	<script type="text/html" id="tmpl-attachment-details-two-column">
		<div class="attachment-media-view {{ data.orientation }}">
			<div class="thumbnail thumbnail-{{ data.type }}">
				<# if ( data.uploading ) { #>
					<div class="media-progress-bar"><div></div></div>
				<# } else if ( data.sizes && data.sizes.large ) { #>
					<img class="details-image" src="{{ data.sizes.large.url }}" draggable="false" alt="" />
				<# } else if ( data.sizes && data.sizes.full ) { #>
					<img class="details-image" src="{{ data.sizes.full.url }}" draggable="false" alt="" />
				<# } else if ( -1 === jQuery.inArray( data.type, [ 'audio', 'video' ] ) ) { #>
					<img class="details-image icon" src="{{ data.icon }}" draggable="false" alt="" />
				<# } #>

				<# if ( 'audio' === data.type ) { #>
				<div class="wp-media-wrapper">
					<audio style="visibility: hidden" controls class="wp-audio-shortcode" width="100%" preload="none">
						<source type="{{ data.mime }}" src="{{ data.url }}"/>
					</audio>
				</div>
				<# } else if ( 'video' === data.type ) {
					var w_rule = '';
					if ( data.width ) {
						w_rule = 'width: ' + data.width + 'px;';
					} else if ( wp.media.view.settings.contentWidth ) {
						w_rule = 'width: ' + wp.media.view.settings.contentWidth + 'px;';
					}
				#>
				<div style="{{ w_rule }}" class="wp-media-wrapper wp-video">
					<video controls="controls" class="wp-video-shortcode" preload="metadata"
						<# if ( data.width ) { #>width="{{ data.width }}"<# } #>
						<# if ( data.height ) { #>height="{{ data.height }}"<# } #>
						<# if ( data.image && data.image.src !== data.icon ) { #>poster="{{ data.image.src }}"<# } #>>
						<source type="{{ data.mime }}" src="{{ data.url }}"/>
					</video>
				</div>
				<# } #>

				<div class="attachment-actions">
					<# if ( 'image' === data.type && ! data.uploading && data.sizes && data.can.save ) { #>
					<button type="button" class="button edit-attachment">Edit Image</button>
					<# } else if ( 'pdf' === data.subtype && data.sizes ) { #>
					Document Preview					<# } #>
				</div>
			</div>
		</div>
		<div class="attachment-info">
			<span class="settings-save-status">
				<span class="spinner"></span>
				<span class="saved">Saved.</span>
			</span>
			<div class="details">
				<div class="filename"><strong>File name:</strong> {{ data.filename }}</div>
				<div class="filename"><strong>File type:</strong> {{ data.mime }}</div>
				<div class="uploaded"><strong>Uploaded on:</strong> {{ data.dateFormatted }}</div>

				<div class="file-size"><strong>File size:</strong> {{ data.filesizeHumanReadable }}</div>
				<# if ( 'image' === data.type && ! data.uploading ) { #>
					<# if ( data.width && data.height ) { #>
						<div class="dimensions"><strong>Dimensions:</strong> {{ data.width }} &times; {{ data.height }}</div>
					<# } #>
				<# } #>

				<# if ( data.fileLength ) { #>
					<div class="file-length"><strong>Length:</strong> {{ data.fileLength }}</div>
				<# } #>

				<# if ( 'audio' === data.type && data.meta.bitrate ) { #>
					<div class="bitrate">
						<strong>Bitrate:</strong> {{ Math.round( data.meta.bitrate / 1000 ) }}kb/s
						<# if ( data.meta.bitrate_mode ) { #>
						{{ ' ' + data.meta.bitrate_mode.toUpperCase() }}
						<# } #>
					</div>
				<# } #>

				<div class="compat-meta">
					<# if ( data.compat && data.compat.meta ) { #>
						{{{ data.compat.meta }}}
					<# } #>
				</div>
			</div>

			<div class="settings">
				<label class="setting" data-setting="url">
					<span class="name">URL</span>
					<input type="text" value="{{ data.url }}" readonly />
				</label>
				<# var maybeReadOnly = data.can.save || data.allowLocalEdits ? '' : 'readonly'; #>
								<label class="setting" data-setting="title">
					<span class="name">Title</span>
					<input type="text" value="{{ data.title }}" {{ maybeReadOnly }} />
				</label>
								<# if ( 'audio' === data.type ) { #>
								<label class="setting" data-setting="artist">
					<span class="name">Artist</span>
					<input type="text" value="{{ data.artist || data.meta.artist || '' }}" />
				</label>
								<label class="setting" data-setting="album">
					<span class="name">Album</span>
					<input type="text" value="{{ data.album || data.meta.album || '' }}" />
				</label>
								<# } #>
				<label class="setting" data-setting="caption">
					<span class="name">Caption</span>
					<textarea {{ maybeReadOnly }}>{{ data.caption }}</textarea>
				</label>
				<# if ( 'image' === data.type ) { #>
					<label class="setting" data-setting="alt">
						<span class="name">Alt Text</span>
						<input type="text" value="{{ data.alt }}" {{ maybeReadOnly }} />
					</label>
				<# } #>
				<label class="setting" data-setting="description">
					<span class="name">Description</span>
					<textarea {{ maybeReadOnly }}>{{ data.description }}</textarea>
				</label>
				<label class="setting">
					<span class="name">Uploaded By</span>
					<span class="value">{{ data.authorName }}</span>
				</label>
				<# if ( data.uploadedToTitle ) { #>
					<label class="setting">
						<span class="name">Uploaded To</span>
						<# if ( data.uploadedToLink ) { #>
							<span class="value"><a href="{{ data.uploadedToLink }}">{{ data.uploadedToTitle }}</a></span>
						<# } else { #>
							<span class="value">{{ data.uploadedToTitle }}</span>
						<# } #>
					</label>
				<# } #>
				<div class="attachment-compat"></div>
			</div>

			<div class="actions">
				<a class="view-attachment" href="{{ data.link }}">View attachment page</a>
				<# if ( data.can.save ) { #> |
					<a href="post.php?post={{ data.id }}&action=edit">Edit more details</a>
				<# } #>
				<# if ( ! data.uploading && data.can.remove ) { #> |
											<button type="button" class="button-link delete-attachment">Delete Permanently</button>
									<# } #>
			</div>

		</div>
	</script>

	<script type="text/html" id="tmpl-attachment">
		<div class="attachment-preview js--select-attachment type-{{ data.type }} subtype-{{ data.subtype }} {{ data.orientation }}">
			<div class="thumbnail">
				<# if ( data.uploading ) { #>
					<div class="media-progress-bar"><div style="width: {{ data.percent }}%"></div></div>
				<# } else if ( 'image' === data.type && data.sizes ) { #>
					<div class="centered">
						<img src="{{ data.size.url }}" draggable="false" alt="" />
					</div>
				<# } else { #>
					<div class="centered">
						<# if ( data.image && data.image.src && data.image.src !== data.icon ) { #>
							<img src="{{ data.image.src }}" class="thumbnail" draggable="false" alt="" />
						<# } else if ( data.sizes && data.sizes.medium ) { #>
							<img src="{{ data.sizes.medium.url }}" class="thumbnail" draggable="false" alt="" />
						<# } else { #>
							<img src="{{ data.icon }}" class="icon" draggable="false" alt="" />
						<# } #>
					</div>
					<div class="filename">
						<div>{{ data.filename }}</div>
					</div>
				<# } #>
			</div>
			<# if ( data.buttons.close ) { #>
				<button type="button" class="button-link attachment-close media-modal-icon"><span class="screen-reader-text">Remove</span></button>
			<# } #>
		</div>
		<# if ( data.buttons.check ) { #>
			<button type="button" class="check" tabindex="-1"><span class="media-modal-icon"></span><span class="screen-reader-text">Deselect</span></button>
		<# } #>
		<#
		var maybeReadOnly = data.can.save || data.allowLocalEdits ? '' : 'readonly';
		if ( data.describe ) {
			if ( 'image' === data.type ) { #>
				<input type="text" value="{{ data.caption }}" class="describe" data-setting="caption"
					placeholder="Caption this image&hellip;" {{ maybeReadOnly }} />
			<# } else { #>
				<input type="text" value="{{ data.title }}" class="describe" data-setting="title"
					<# if ( 'video' === data.type ) { #>
						placeholder="Describe this video&hellip;"
					<# } else if ( 'audio' === data.type ) { #>
						placeholder="Describe this audio file&hellip;"
					<# } else { #>
						placeholder="Describe this media file&hellip;"
					<# } #> {{ maybeReadOnly }} />
			<# }
		} #>
	</script>

	<script type="text/html" id="tmpl-attachment-details">
		<h2>
			Attachment Details			<span class="settings-save-status">
				<span class="spinner"></span>
				<span class="saved">Saved.</span>
			</span>
		</h2>
		<div class="attachment-info">
			<div class="thumbnail thumbnail-{{ data.type }}">
				<# if ( data.uploading ) { #>
					<div class="media-progress-bar"><div></div></div>
				<# } else if ( 'image' === data.type && data.sizes ) { #>
					<img src="{{ data.size.url }}" draggable="false" alt="" />
				<# } else { #>
					<img src="{{ data.icon }}" class="icon" draggable="false" alt="" />
				<# } #>
			</div>
			<div class="details">
				<div class="filename">{{ data.filename }}</div>
				<div class="uploaded">{{ data.dateFormatted }}</div>

				<div class="file-size">{{ data.filesizeHumanReadable }}</div>
				<# if ( 'image' === data.type && ! data.uploading ) { #>
					<# if ( data.width && data.height ) { #>
						<div class="dimensions">{{ data.width }} &times; {{ data.height }}</div>
					<# } #>

					<# if ( data.can.save && data.sizes ) { #>
						<a class="edit-attachment" href="{{ data.editLink }}&amp;image-editor" target="_blank">Edit Image</a>
					<# } #>
				<# } #>

				<# if ( data.fileLength ) { #>
					<div class="file-length">Length: {{ data.fileLength }}</div>
				<# } #>

				<# if ( ! data.uploading && data.can.remove ) { #>
											<button type="button" class="button-link delete-attachment">Delete Permanently</button>
									<# } #>

				<div class="compat-meta">
					<# if ( data.compat && data.compat.meta ) { #>
						{{{ data.compat.meta }}}
					<# } #>
				</div>
			</div>
		</div>

		<label class="setting" data-setting="url">
			<span class="name">URL</span>
			<input type="text" value="{{ data.url }}" readonly />
		</label>
		<# var maybeReadOnly = data.can.save || data.allowLocalEdits ? '' : 'readonly'; #>
				<label class="setting" data-setting="title">
			<span class="name">Title</span>
			<input type="text" value="{{ data.title }}" {{ maybeReadOnly }} />
		</label>
				<# if ( 'audio' === data.type ) { #>
				<label class="setting" data-setting="artist">
			<span class="name">Artist</span>
			<input type="text" value="{{ data.artist || data.meta.artist || '' }}" />
		</label>
				<label class="setting" data-setting="album">
			<span class="name">Album</span>
			<input type="text" value="{{ data.album || data.meta.album || '' }}" />
		</label>
				<# } #>
		<label class="setting" data-setting="caption">
			<span class="name">Caption</span>
			<textarea {{ maybeReadOnly }}>{{ data.caption }}</textarea>
		</label>
		<# if ( 'image' === data.type ) { #>
			<label class="setting" data-setting="alt">
				<span class="name">Alt Text</span>
				<input type="text" value="{{ data.alt }}" {{ maybeReadOnly }} />
			</label>
		<# } #>
		<label class="setting" data-setting="description">
			<span class="name">Description</span>
			<textarea {{ maybeReadOnly }}>{{ data.description }}</textarea>
		</label>
	</script>

	<script type="text/html" id="tmpl-media-selection">
		<div class="selection-info">
			<span class="count"></span>
			<# if ( data.editable ) { #>
				<button type="button" class="button-link edit-selection">Edit Selection</button>
			<# } #>
			<# if ( data.clearable ) { #>
				<button type="button" class="button-link clear-selection">Clear</button>
			<# } #>
		</div>
		<div class="selection-view"></div>
	</script>

	<script type="text/html" id="tmpl-attachment-display-settings">
		<h2>Attachment Display Settings</h2>

		<# if ( 'image' === data.type ) { #>
			<label class="setting align">
				<span>Alignment</span>
				<select class="alignment"
					data-setting="align"
					<# if ( data.userSettings ) { #>
						data-user-setting="align"
					<# } #>>

					<option value="left">
						Left					</option>
					<option value="center">
						Center					</option>
					<option value="right">
						Right					</option>
					<option value="none" selected>
						None					</option>
				</select>
			</label>
		<# } #>

		<div class="setting">
			<label>
				<# if ( data.model.canEmbed ) { #>
					<span>Embed or Link</span>
				<# } else { #>
					<span>Link To</span>
				<# } #>

				<select class="link-to"
					data-setting="link"
					<# if ( data.userSettings && ! data.model.canEmbed ) { #>
						data-user-setting="urlbutton"
					<# } #>>

				<# if ( data.model.canEmbed ) { #>
					<option value="embed" selected>
						Embed Media Player					</option>
					<option value="file">
				<# } else { #>
					<option value="none" selected>
						None					</option>
					<option value="file">
				<# } #>
					<# if ( data.model.canEmbed ) { #>
						Link to Media File					<# } else { #>
						Media File					<# } #>
					</option>
					<option value="post">
					<# if ( data.model.canEmbed ) { #>
						Link to Attachment Page					<# } else { #>
						Attachment Page					<# } #>
					</option>
				<# if ( 'image' === data.type ) { #>
					<option value="custom">
						Custom URL					</option>
				<# } #>
				</select>
			</label>
			<input type="text" class="link-to-custom" data-setting="linkUrl" />
		</div>

		<# if ( 'undefined' !== typeof data.sizes ) { #>
			<label class="setting">
				<span>Size</span>
				<select class="size" name="size"
					data-setting="size"
					<# if ( data.userSettings ) { #>
						data-user-setting="imgsize"
					<# } #>>
											<#
						var size = data.sizes['thumbnail'];
						if ( size ) { #>
							<option value="thumbnail" >
								Thumbnail &ndash; {{ size.width }} &times; {{ size.height }}
							</option>
						<# } #>
											<#
						var size = data.sizes['medium'];
						if ( size ) { #>
							<option value="medium" >
								Medium &ndash; {{ size.width }} &times; {{ size.height }}
							</option>
						<# } #>
											<#
						var size = data.sizes['large'];
						if ( size ) { #>
							<option value="large" >
								Large &ndash; {{ size.width }} &times; {{ size.height }}
							</option>
						<# } #>
											<#
						var size = data.sizes['full'];
						if ( size ) { #>
							<option value="full"  selected='selected'>
								Full Size &ndash; {{ size.width }} &times; {{ size.height }}
							</option>
						<# } #>
									</select>
			</label>
		<# } #>
	</script>

	<script type="text/html" id="tmpl-gallery-settings">
		<h2>Gallery Settings</h2>

		<label class="setting">
			<span>Link To</span>
			<select class="link-to"
				data-setting="link"
				<# if ( data.userSettings ) { #>
					data-user-setting="urlbutton"
				<# } #>>

				<option value="post" <# if ( ! wp.media.galleryDefaults.link || 'post' == wp.media.galleryDefaults.link ) {
					#>selected="selected"<# }
				#>>
					Attachment Page				</option>
				<option value="file" <# if ( 'file' == wp.media.galleryDefaults.link ) { #>selected="selected"<# } #>>
					Media File				</option>
				<option value="none" <# if ( 'none' == wp.media.galleryDefaults.link ) { #>selected="selected"<# } #>>
					None				</option>
			</select>
		</label>

		<label class="setting">
			<span>Columns</span>
			<select class="columns" name="columns"
				data-setting="columns">
									<option value="1" <#
						if ( 1 == wp.media.galleryDefaults.columns ) { #>selected="selected"<# }
					#>>
						1					</option>
									<option value="2" <#
						if ( 2 == wp.media.galleryDefaults.columns ) { #>selected="selected"<# }
					#>>
						2					</option>
									<option value="3" <#
						if ( 3 == wp.media.galleryDefaults.columns ) { #>selected="selected"<# }
					#>>
						3					</option>
									<option value="4" <#
						if ( 4 == wp.media.galleryDefaults.columns ) { #>selected="selected"<# }
					#>>
						4					</option>
									<option value="5" <#
						if ( 5 == wp.media.galleryDefaults.columns ) { #>selected="selected"<# }
					#>>
						5					</option>
									<option value="6" <#
						if ( 6 == wp.media.galleryDefaults.columns ) { #>selected="selected"<# }
					#>>
						6					</option>
									<option value="7" <#
						if ( 7 == wp.media.galleryDefaults.columns ) { #>selected="selected"<# }
					#>>
						7					</option>
									<option value="8" <#
						if ( 8 == wp.media.galleryDefaults.columns ) { #>selected="selected"<# }
					#>>
						8					</option>
									<option value="9" <#
						if ( 9 == wp.media.galleryDefaults.columns ) { #>selected="selected"<# }
					#>>
						9					</option>
							</select>
		</label>

		<label class="setting">
			<span>Random Order</span>
			<input type="checkbox" data-setting="_orderbyRandom" />
		</label>

		<label class="setting size">
			<span>Size</span>
			<select class="size" name="size"
				data-setting="size"
				<# if ( data.userSettings ) { #>
					data-user-setting="imgsize"
				<# } #>
				>
									<option value="thumbnail">
						Thumbnail					</option>
									<option value="medium">
						Medium					</option>
									<option value="large">
						Large					</option>
									<option value="full">
						Full Size					</option>
							</select>
		</label>
	</script>

	<script type="text/html" id="tmpl-playlist-settings">
		<h2>Playlist Settings</h2>

		<# var emptyModel = _.isEmpty( data.model ),
			isVideo = 'video' === data.controller.get('library').props.get('type'); #>

		<label class="setting">
			<input type="checkbox" data-setting="tracklist" <# if ( emptyModel ) { #>
				checked="checked"
			<# } #> />
			<# if ( isVideo ) { #>
			<span>Show Video List</span>
			<# } else { #>
			<span>Show Tracklist</span>
			<# } #>
		</label>

		<# if ( ! isVideo ) { #>
		<label class="setting">
			<input type="checkbox" data-setting="artists" <# if ( emptyModel ) { #>
				checked="checked"
			<# } #> />
			<span>Show Artist Name in Tracklist</span>
		</label>
		<# } #>

		<label class="setting">
			<input type="checkbox" data-setting="images" <# if ( emptyModel ) { #>
				checked="checked"
			<# } #> />
			<span>Show Images</span>
		</label>
	</script>

	<script type="text/html" id="tmpl-embed-link-settings">
		<label class="setting link-text">
			<span>Link Text</span>
			<input type="text" class="alignment" data-setting="linkText" />
		</label>
		<div class="embed-container" style="display: none;">
			<div class="embed-preview"></div>
		</div>
	</script>

	<script type="text/html" id="tmpl-embed-image-settings">
		<div class="thumbnail">
			<img src="{{ data.model.url }}" draggable="false" alt="" />
		</div>

					<label class="setting caption">
				<span>Caption</span>
				<textarea data-setting="caption" />
			</label>
		
		<label class="setting alt-text">
			<span>Alt Text</span>
			<input type="text" data-setting="alt" />
		</label>

		<div class="setting align">
			<span>Align</span>
			<div class="button-group button-large" data-setting="align">
				<button class="button" value="left">
					Left				</button>
				<button class="button" value="center">
					Center				</button>
				<button class="button" value="right">
					Right				</button>
				<button class="button active" value="none">
					None				</button>
			</div>
		</div>

		<div class="setting link-to">
			<span>Link To</span>
			<div class="button-group button-large" data-setting="link">
				<button class="button" value="file">
					Image URL				</button>
				<button class="button" value="custom">
					Custom URL				</button>
				<button class="button active" value="none">
					None				</button>
			</div>
			<input type="text" class="link-to-custom" data-setting="linkUrl" />
		</div>
	</script>

	<script type="text/html" id="tmpl-image-details">
		<div class="media-embed">
			<div class="embed-media-settings">
				<div class="column-image">
					<div class="image">
						<img src="{{ data.model.url }}" draggable="false" alt="" />

						<# if ( data.attachment && window.imageEdit ) { #>
							<div class="actions">
								<input type="button" class="edit-attachment button" value="Edit Original" />
								<input type="button" class="replace-attachment button" value="Replace" />
							</div>
						<# } #>
					</div>
				</div>
				<div class="column-settings">
											<label class="setting caption">
							<span>Caption</span>
							<textarea data-setting="caption">{{ data.model.caption }}</textarea>
						</label>
					
					<label class="setting alt-text">
						<span>Alternative Text</span>
						<input type="text" data-setting="alt" value="{{ data.model.alt }}" />
					</label>

					<h2>Display Settings</h2>
					<div class="setting align">
						<span>Align</span>
						<div class="button-group button-large" data-setting="align">
							<button class="button" value="left">
								Left							</button>
							<button class="button" value="center">
								Center							</button>
							<button class="button" value="right">
								Right							</button>
							<button class="button active" value="none">
								None							</button>
						</div>
					</div>

					<# if ( data.attachment ) { #>
						<# if ( 'undefined' !== typeof data.attachment.sizes ) { #>
							<label class="setting size">
								<span>Size</span>
								<select class="size" name="size"
									data-setting="size"
									<# if ( data.userSettings ) { #>
										data-user-setting="imgsize"
									<# } #>>
																			<#
										var size = data.sizes['thumbnail'];
										if ( size ) { #>
											<option value="thumbnail">
												Thumbnail &ndash; {{ size.width }} &times; {{ size.height }}
											</option>
										<# } #>
																			<#
										var size = data.sizes['medium'];
										if ( size ) { #>
											<option value="medium">
												Medium &ndash; {{ size.width }} &times; {{ size.height }}
											</option>
										<# } #>
																			<#
										var size = data.sizes['large'];
										if ( size ) { #>
											<option value="large">
												Large &ndash; {{ size.width }} &times; {{ size.height }}
											</option>
										<# } #>
																			<#
										var size = data.sizes['full'];
										if ( size ) { #>
											<option value="full">
												Full Size &ndash; {{ size.width }} &times; {{ size.height }}
											</option>
										<# } #>
																		<option value="custom">
										Custom Size									</option>
								</select>
							</label>
						<# } #>
							<div class="custom-size<# if ( data.model.size !== 'custom' ) { #> hidden<# } #>">
								<label><span>Width <small>(px)</small></span> <input data-setting="customWidth" type="number" step="1" value="{{ data.model.customWidth }}" /></label><span class="sep">&times;</span><label><span>Height <small>(px)</small></span><input data-setting="customHeight" type="number" step="1" value="{{ data.model.customHeight }}" /></label>
							</div>
					<# } #>

					<div class="setting link-to">
						<span>Link To</span>
						<select data-setting="link">
						<# if ( data.attachment ) { #>
							<option value="file">
								Media File							</option>
							<option value="post">
								Attachment Page							</option>
						<# } else { #>
							<option value="file">
								Image URL							</option>
						<# } #>
							<option value="custom">
								Custom URL							</option>
							<option value="none">
								None							</option>
						</select>
						<input type="text" class="link-to-custom" data-setting="linkUrl" />
					</div>
					<div class="advanced-section">
						<h2><button type="button" class="button-link advanced-toggle">Advanced Options</button></h2>
						<div class="advanced-settings hidden">
							<div class="advanced-image">
								<label class="setting title-text">
									<span>Image Title Attribute</span>
									<input type="text" data-setting="title" value="{{ data.model.title }}" />
								</label>
								<label class="setting extra-classes">
									<span>Image CSS Class</span>
									<input type="text" data-setting="extraClasses" value="{{ data.model.extraClasses }}" />
								</label>
							</div>
							<div class="advanced-link">
								<div class="setting link-target">
									<label><input type="checkbox" data-setting="linkTargetBlank" value="_blank" <# if ( data.model.linkTargetBlank ) { #>checked="checked"<# } #>>Open link in a new tab</label>
								</div>
								<label class="setting link-rel">
									<span>Link Rel</span>
									<input type="text" data-setting="linkRel" value="{{ data.model.linkClassName }}" />
								</label>
								<label class="setting link-class-name">
									<span>Link CSS Class</span>
									<input type="text" data-setting="linkClassName" value="{{ data.model.linkClassName }}" />
								</label>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</script>

	<script type="text/html" id="tmpl-image-editor">
		<div id="media-head-{{ data.id }}"></div>
		<div id="image-editor-{{ data.id }}"></div>
	</script>

	<script type="text/html" id="tmpl-audio-details">
		<# var ext, html5types = {
			mp3: wp.media.view.settings.embedMimes.mp3,
			ogg: wp.media.view.settings.embedMimes.ogg
		}; #>

				<div class="media-embed media-embed-details">
			<div class="embed-media-settings embed-audio-settings">
				<audio style="visibility: hidden"
	controls
	class="wp-audio-shortcode"
	width="{{ _.isUndefined( data.model.width ) ? 400 : data.model.width }}"
	preload="{{ _.isUndefined( data.model.preload ) ? 'none' : data.model.preload }}"
	<#
	if ( ! _.isUndefined( data.model.autoplay ) && data.model.autoplay ) {
		#> autoplay<#
	}
	if ( ! _.isUndefined( data.model.loop ) && data.model.loop ) {
		#> loop<#
	}
	#>
>
	<# if ( ! _.isEmpty( data.model.src ) ) { #>
	<source src="{{ data.model.src }}" type="{{ wp.media.view.settings.embedMimes[ data.model.src.split('.').pop() ] }}" />
	<# } #>

	<# if ( ! _.isEmpty( data.model.mp3 ) ) { #>
	<source src="{{ data.model.mp3 }}" type="{{ wp.media.view.settings.embedMimes[ 'mp3' ] }}" />
	<# } #>
	<# if ( ! _.isEmpty( data.model.ogg ) ) { #>
	<source src="{{ data.model.ogg }}" type="{{ wp.media.view.settings.embedMimes[ 'ogg' ] }}" />
	<# } #>
	<# if ( ! _.isEmpty( data.model.m4a ) ) { #>
	<source src="{{ data.model.m4a }}" type="{{ wp.media.view.settings.embedMimes[ 'm4a' ] }}" />
	<# } #>
	<# if ( ! _.isEmpty( data.model.wav ) ) { #>
	<source src="{{ data.model.wav }}" type="{{ wp.media.view.settings.embedMimes[ 'wav' ] }}" />
	<# } #>
	</audio>

				<# if ( ! _.isEmpty( data.model.src ) ) {
					ext = data.model.src.split('.').pop();
					if ( html5types[ ext ] ) {
						delete html5types[ ext ];
					}
				#>
				<label class="setting">
					<span>SRC</span>
					<input type="text" disabled="disabled" data-setting="src" value="{{ data.model.src }}" />
					<button type="button" class="button-link remove-setting">Remove audio source</button>
				</label>
				<# } #>
				<# if ( ! _.isEmpty( data.model.mp3 ) ) {
					if ( ! _.isUndefined( html5types.mp3 ) ) {
						delete html5types.mp3;
					}
				#>
				<label class="setting">
					<span>MP3</span>
					<input type="text" disabled="disabled" data-setting="mp3" value="{{ data.model.mp3 }}" />
					<button type="button" class="button-link remove-setting">Remove audio source</button>
				</label>
				<# } #>
				<# if ( ! _.isEmpty( data.model.ogg ) ) {
					if ( ! _.isUndefined( html5types.ogg ) ) {
						delete html5types.ogg;
					}
				#>
				<label class="setting">
					<span>OGG</span>
					<input type="text" disabled="disabled" data-setting="ogg" value="{{ data.model.ogg }}" />
					<button type="button" class="button-link remove-setting">Remove audio source</button>
				</label>
				<# } #>
				<# if ( ! _.isEmpty( data.model.m4a ) ) {
					if ( ! _.isUndefined( html5types.m4a ) ) {
						delete html5types.m4a;
					}
				#>
				<label class="setting">
					<span>M4A</span>
					<input type="text" disabled="disabled" data-setting="m4a" value="{{ data.model.m4a }}" />
					<button type="button" class="button-link remove-setting">Remove audio source</button>
				</label>
				<# } #>
				<# if ( ! _.isEmpty( data.model.wav ) ) {
					if ( ! _.isUndefined( html5types.wav ) ) {
						delete html5types.wav;
					}
				#>
				<label class="setting">
					<span>WAV</span>
					<input type="text" disabled="disabled" data-setting="wav" value="{{ data.model.wav }}" />
					<button type="button" class="button-link remove-setting">Remove audio source</button>
				</label>
				<# } #>
				
				<# if ( ! _.isEmpty( html5types ) ) { #>
				<div class="setting">
					<span>Add alternate sources for maximum HTML5 playback:</span>
					<div class="button-large">
					<# _.each( html5types, function (mime, type) { #>
					<button class="button add-media-source" data-mime="{{ mime }}">{{ type }}</button>
					<# } ) #>
					</div>
				</div>
				<# } #>

				<div class="setting preload">
					<span>Preload</span>
					<div class="button-group button-large" data-setting="preload">
						<button class="button" value="auto">Auto</button>
						<button class="button" value="metadata">Metadata</button>
						<button class="button active" value="none">None</button>
					</div>
				</div>

				<label class="setting checkbox-setting autoplay">
					<input type="checkbox" data-setting="autoplay" />
					<span>Autoplay</span>
				</label>

				<label class="setting checkbox-setting">
					<input type="checkbox" data-setting="loop" />
					<span>Loop</span>
				</label>
			</div>
		</div>
	</script>

	<script type="text/html" id="tmpl-video-details">
		<# var ext, html5types = {
			mp4: wp.media.view.settings.embedMimes.mp4,
			ogv: wp.media.view.settings.embedMimes.ogv,
			webm: wp.media.view.settings.embedMimes.webm
		}; #>

				<div class="media-embed media-embed-details">
			<div class="embed-media-settings embed-video-settings">
				<div class="wp-video-holder">
				<#
				var w = ! data.model.width || data.model.width > 640 ? 640 : data.model.width,
					h = ! data.model.height ? 360 : data.model.height;

				if ( data.model.width && w !== data.model.width ) {
					h = Math.ceil( ( h * w ) / data.model.width );
				}
				#>

				<#  var w_rule = '', classes = [],
		w, h, settings = wp.media.view.settings,
		isYouTube = isVimeo = false;

	if ( ! _.isEmpty( data.model.src ) ) {
		isYouTube = data.model.src.match(/youtube|youtu\.be/);
		isVimeo = -1 !== data.model.src.indexOf('vimeo');
	}

	if ( settings.contentWidth && data.model.width >= settings.contentWidth ) {
		w = settings.contentWidth;
	} else {
		w = data.model.width;
	}

	if ( w !== data.model.width ) {
		h = Math.ceil( ( data.model.height * w ) / data.model.width );
	} else {
		h = data.model.height;
 	}

	if ( w ) {
		w_rule = 'width: ' + w + 'px; ';
	}

	if ( isYouTube ) {
		classes.push( 'youtube-video' );
	}

	if ( isVimeo ) {
		classes.push( 'vimeo-video' );
	}

#>
<div style="{{ w_rule }}" class="wp-video">
<video controls
	class="wp-video-shortcode {{ classes.join( ' ' ) }}"
	<# if ( w ) { #>width="{{ w }}"<# } #>
	<# if ( h ) { #>height="{{ h }}"<# } #>
	<#
		if ( ! _.isUndefined( data.model.poster ) && data.model.poster ) {
			#> poster="{{ data.model.poster }}"<#
		} #>
		preload="{{ _.isUndefined( data.model.preload ) ? 'metadata' : data.model.preload }}"<#
	 if ( ! _.isUndefined( data.model.autoplay ) && data.model.autoplay ) {
		#> autoplay<#
	}
	 if ( ! _.isUndefined( data.model.loop ) && data.model.loop ) {
		#> loop<#
	}
	#>
>
	<# if ( ! _.isEmpty( data.model.src ) ) {
		if ( isYouTube ) { #>
		<source src="{{ data.model.src }}" type="video/youtube" />
		<# } else if ( isVimeo ) { #>
		<source src="{{ data.model.src }}" type="video/vimeo" />
		<# } else { #>
		<source src="{{ data.model.src }}" type="{{ settings.embedMimes[ data.model.src.split('.').pop() ] }}" />
		<# }
	} #>

	<# if ( data.model.mp4 ) { #>
	<source src="{{ data.model.mp4 }}" type="{{ settings.embedMimes[ 'mp4' ] }}" />
	<# } #>
	<# if ( data.model.m4v ) { #>
	<source src="{{ data.model.m4v }}" type="{{ settings.embedMimes[ 'm4v' ] }}" />
	<# } #>
	<# if ( data.model.webm ) { #>
	<source src="{{ data.model.webm }}" type="{{ settings.embedMimes[ 'webm' ] }}" />
	<# } #>
	<# if ( data.model.ogv ) { #>
	<source src="{{ data.model.ogv }}" type="{{ settings.embedMimes[ 'ogv' ] }}" />
	<# } #>
	<# if ( data.model.flv ) { #>
	<source src="{{ data.model.flv }}" type="{{ settings.embedMimes[ 'flv' ] }}" />
	<# } #>
		{{{ data.model.content }}}
</video>
</div>

				<# if ( ! _.isEmpty( data.model.src ) ) {
					ext = data.model.src.split('.').pop();
					if ( html5types[ ext ] ) {
						delete html5types[ ext ];
					}
				#>
				<label class="setting">
					<span>SRC</span>
					<input type="text" disabled="disabled" data-setting="src" value="{{ data.model.src }}" />
					<button type="button" class="button-link remove-setting">Remove video source</button>
				</label>
				<# } #>
				<# if ( ! _.isEmpty( data.model.mp4 ) ) {
					if ( ! _.isUndefined( html5types.mp4 ) ) {
						delete html5types.mp4;
					}
				#>
				<label class="setting">
					<span>MP4</span>
					<input type="text" disabled="disabled" data-setting="mp4" value="{{ data.model.mp4 }}" />
					<button type="button" class="button-link remove-setting">Remove video source</button>
				</label>
				<# } #>
				<# if ( ! _.isEmpty( data.model.m4v ) ) {
					if ( ! _.isUndefined( html5types.m4v ) ) {
						delete html5types.m4v;
					}
				#>
				<label class="setting">
					<span>M4V</span>
					<input type="text" disabled="disabled" data-setting="m4v" value="{{ data.model.m4v }}" />
					<button type="button" class="button-link remove-setting">Remove video source</button>
				</label>
				<# } #>
				<# if ( ! _.isEmpty( data.model.webm ) ) {
					if ( ! _.isUndefined( html5types.webm ) ) {
						delete html5types.webm;
					}
				#>
				<label class="setting">
					<span>WEBM</span>
					<input type="text" disabled="disabled" data-setting="webm" value="{{ data.model.webm }}" />
					<button type="button" class="button-link remove-setting">Remove video source</button>
				</label>
				<# } #>
				<# if ( ! _.isEmpty( data.model.ogv ) ) {
					if ( ! _.isUndefined( html5types.ogv ) ) {
						delete html5types.ogv;
					}
				#>
				<label class="setting">
					<span>OGV</span>
					<input type="text" disabled="disabled" data-setting="ogv" value="{{ data.model.ogv }}" />
					<button type="button" class="button-link remove-setting">Remove video source</button>
				</label>
				<# } #>
				<# if ( ! _.isEmpty( data.model.flv ) ) {
					if ( ! _.isUndefined( html5types.flv ) ) {
						delete html5types.flv;
					}
				#>
				<label class="setting">
					<span>FLV</span>
					<input type="text" disabled="disabled" data-setting="flv" value="{{ data.model.flv }}" />
					<button type="button" class="button-link remove-setting">Remove video source</button>
				</label>
				<# } #>
								</div>

				<# if ( ! _.isEmpty( html5types ) ) { #>
				<div class="setting">
					<span>Add alternate sources for maximum HTML5 playback:</span>
					<div class="button-large">
					<# _.each( html5types, function (mime, type) { #>
					<button class="button add-media-source" data-mime="{{ mime }}">{{ type }}</button>
					<# } ) #>
					</div>
				</div>
				<# } #>

				<# if ( ! _.isEmpty( data.model.poster ) ) { #>
				<label class="setting">
					<span>Poster Image</span>
					<input type="text" disabled="disabled" data-setting="poster" value="{{ data.model.poster }}" />
					<button type="button" class="button-link remove-setting">Remove poster image</button>
				</label>
				<# } #>
				<div class="setting preload">
					<span>Preload</span>
					<div class="button-group button-large" data-setting="preload">
						<button class="button" value="auto">Auto</button>
						<button class="button" value="metadata">Metadata</button>
						<button class="button active" value="none">None</button>
					</div>
				</div>

				<label class="setting checkbox-setting autoplay">
					<input type="checkbox" data-setting="autoplay" />
					<span>Autoplay</span>
				</label>

				<label class="setting checkbox-setting">
					<input type="checkbox" data-setting="loop" />
					<span>Loop</span>
				</label>

				<label class="setting" data-setting="content">
					<span>Tracks (subtitles, captions, descriptions, chapters, or metadata)</span>
					<#
					var content = '';
					if ( ! _.isEmpty( data.model.content ) ) {
						var tracks = jQuery( data.model.content ).filter( 'track' );
						_.each( tracks.toArray(), function (track) {
							content += track.outerHTML; #>
						<p>
							<input class="content-track" type="text" value="{{ track.outerHTML }}" />
							<button type="button" class="button-link remove-setting remove-track">Remove video track</button>
						</p>
						<# } ); #>
					<# } else { #>
					<em>There are no associated subtitles.</em>
					<# } #>
					<textarea class="hidden content-setting">{{ content }}</textarea>
				</label>
			</div>
		</div>
	</script>

	<script type="text/html" id="tmpl-editor-gallery">
		<# if ( data.attachments.length ) { #>
			<div class="gallery gallery-columns-{{ data.columns }}">
				<# _.each( data.attachments, function( attachment, index ) { #>
					<dl class="gallery-item">
						<dt class="gallery-icon">
							<# if ( attachment.thumbnail ) { #>
								<img src="{{ attachment.thumbnail.url }}" width="{{ attachment.thumbnail.width }}" height="{{ attachment.thumbnail.height }}" alt="" />
							<# } else { #>
								<img src="{{ attachment.url }}" alt="" />
							<# } #>
						</dt>
						<# if ( attachment.caption ) { #>
							<dd class="wp-caption-text gallery-caption">
								{{{ data.verifyHTML( attachment.caption ) }}}
							</dd>
						<# } #>
					</dl>
					<# if ( index % data.columns === data.columns - 1 ) { #>
						<br style="clear: both;">
					<# } #>
				<# } ); #>
			</div>
		<# } else { #>
			<div class="wpview-error">
				<div class="dashicons dashicons-format-gallery"></div><p>No items found.</p>
			</div>
		<# } #>
	</script>

	<script type="text/html" id="tmpl-crop-content">
		<img class="crop-image" src="{{ data.url }}" alt="Image crop area preview. Requires mouse interaction.">
		<div class="upload-errors"></div>
	</script>

	<script type="text/html" id="tmpl-site-icon-preview">
		<h2>Preview</h2>
		<strong aria-hidden="true">As a browser icon</strong>
		<div class="favicon-preview">
			<img src="https://www.ultimatebattle.in/wp-admin/images/browser.png" class="browser-preview" width="182" height="" alt="" />

			<div class="favicon">
				<img id="preview-favicon" src="{{ data.url }}" alt="Preview as a browser icon"/>
			</div>
			<span class="browser-title" aria-hidden="true"></span>
		</div>

		<strong aria-hidden="true">As an app icon</strong>
		<div class="app-icon-preview">
			<img id="preview-app-icon" src="{{ data.url }}" alt="Preview as an app icon"/>
		</div>
	</script>

		<script type="text/javascript">
		var c = document.body.className;
		c = c.replace(/woocommerce-no-js/, 'woocommerce-js');
		document.body.className = c;
	</script>
	<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/plugins/ub-stats/includes/js/ubs_scripts.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/comment-reply.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"ultimatebattle"};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/plugins/disqus-comment-system/public/js/comment_count.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/plugins/woocommerce/assets/js/jquery-blockui/jquery.blockUI.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/plugins/woocommerce/assets/js/js-cookie/js.cookie.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var woocommerce_params = {"ajax_url":"\/wp-admin\/admin-ajax.php","wc_ajax_url":"\/?wc-ajax=%%endpoint%%"};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/plugins/woocommerce/assets/js/frontend/woocommerce.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wc_cart_fragments_params = {"ajax_url":"\/wp-admin\/admin-ajax.php","wc_ajax_url":"\/?wc-ajax=%%endpoint%%","cart_hash_key":"wc_cart_hash_8914f6a1577bd3cef6b23ca238d52adc","fragment_name":"wc_fragments_8914f6a1577bd3cef6b23ca238d52adc","request_timeout":"5000"};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/plugins/woocommerce/assets/js/frontend/cart-fragments.min.js'></script>
<script type='text/javascript' src='https://cdn.onesignal.com/sdks/OneSignalSDK.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/easy-responsive-tabs.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/jquery.basictable.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/jquery.nivo.slider.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/owl.carousel.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var settingsNoty = {"challenge_accepted":"Challenge accepted!","challenge_rejected":"Challenge rejected!","match_deleted":"Match deleted!","score_accepted":"Score accepted!","score_rejected":"Score rejected!","challenge_request_sent":"Challenge request sent!","submitted":"Score has been submitted!","already_submitted":"Score has already been submitted by other team!","join_clan":"Your request to join clan has been sent!","let_this_member_join":"User joined your clan!","remove_friend":"Removed from clan!","cancel_request":"Request canceled!","make_administrator":"Added as administrator!","downgrade_to_user":"Admin downgraded!","reported":"Match has been reported!","clan_deleted":"Clan has been deleted!","delete_page_background":"Clan page background deleted successfully!"};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/noty/packaged/jquery.noty.packaged.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/remove-vc-elements.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/jquery.webticker.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/jquery.bxslider.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/imagesloaded.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/jquery.validate.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/global.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/imagescale.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/js/transit.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/underscore.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/shortcode.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/backbone.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var _wpUtilSettings = {"ajax":{"url":"\/wp-admin\/admin-ajax.php"}};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/wp-util.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/wp-backbone.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var _wpMediaModelsL10n = {"settings":{"ajaxurl":"\/wp-admin\/admin-ajax.php","post":{"id":0}}};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/media-models.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var pluploadL10n = {"queue_limit_exceeded":"You have attempted to queue too many files.","file_exceeds_size_limit":"%s exceeds the maximum upload size for this site.","zero_byte_file":"This file is empty. Please try another.","invalid_filetype":"Sorry, this file type is not permitted for security reasons.","not_an_image":"This file is not an image. Please try another.","image_memory_exceeded":"Memory exceeded. Please try another smaller file.","image_dimensions_exceeded":"This is larger than the maximum size. Please try another.","default_error":"An error occurred in the upload. Please try again later.","missing_upload_url":"There was a configuration error. Please contact the server administrator.","upload_limit_exceeded":"You may only upload 1 file.","http_error":"HTTP error.","upload_failed":"Upload failed.","big_upload_failed":"Please try uploading this file with the %1$sbrowser uploader%2$s.","big_upload_queued":"%s exceeds the maximum upload size for the multi-file uploader when used in your browser.","io_error":"IO error.","security_error":"Security error.","file_cancelled":"File canceled.","upload_stopped":"Upload stopped.","dismiss":"Dismiss","crunching":"Crunching\u2026","deleted":"moved to the trash.","error_uploading":"\u201c%s\u201d has failed to upload."};
var _wpPluploadSettings = {"defaults":{"runtimes":"html5,flash,silverlight,html4","file_data_name":"async-upload","url":"\/wp-admin\/async-upload.php","flash_swf_url":"https:\/\/www.ultimatebattle.in\/wp-includes\/js\/plupload\/plupload.flash.swf","silverlight_xap_url":"https:\/\/www.ultimatebattle.in\/wp-includes\/js\/plupload\/plupload.silverlight.xap","filters":{"max_file_size":"83886080b","mime_types":[{"extensions":"jpg,jpeg,jpe,gif,png,bmp,tiff,tif,ico,asf,asx,wmv,wmx,wm,avi,divx,flv,mov,qt,mpeg,mpg,mpe,mp4,m4v,ogv,webm,mkv,3gp,3gpp,3g2,3gp2,txt,asc,c,cc,h,srt,csv,tsv,ics,rtx,css,vtt,dfxp,mp3,m4a,m4b,ra,ram,wav,ogg,oga,mid,midi,wma,wax,mka,rtf,js,pdf,class,tar,zip,gz,gzip,rar,7z,psd,xcf,doc,pot,pps,ppt,wri,xla,xls,xlt,xlw,mdb,mpp,docx,docm,dotx,dotm,xlsx,xlsm,xlsb,xltx,xltm,xlam,pptx,pptm,ppsx,ppsm,potx,potm,ppam,sldx,sldm,onetoc,onetoc2,onetmp,onepkg,oxps,xps,odt,odp,ods,odg,odc,odb,odf,wp,wpd,key,numbers,pages"}]},"multipart_params":{"action":"upload-attachment","_wpnonce":"5c9fa05030"}},"browser":{"mobile":true,"supported":true},"limitExceeded":false};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/plupload/wp-plupload.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/jquery/ui/core.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/jquery/ui/widget.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/jquery/ui/mouse.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/jquery/ui/sortable.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var mejsL10n = {"language":"en-US","strings":{"Close":"Close","Fullscreen":"Fullscreen","Turn off Fullscreen":"Turn off Fullscreen","Go Fullscreen":"Go Fullscreen","Download File":"Download File","Download Video":"Download Video","Play":"Play","Pause":"Pause","Captions\/Subtitles":"Captions\/Subtitles","None":"None","Time Slider":"Time Slider","Skip back %1 seconds":"Skip back %1 seconds","Video Player":"Video Player","Audio Player":"Audio Player","Volume Slider":"Volume Slider","Mute Toggle":"Mute Toggle","Unmute":"Unmute","Mute":"Mute","Use Up\/Down Arrow keys to increase or decrease volume.":"Use Up\/Down Arrow keys to increase or decrease volume.","Use Left\/Right Arrow keys to advance one second, Up\/Down arrows to advance ten seconds.":"Use Left\/Right Arrow keys to advance one second, Up\/Down arrows to advance ten seconds."}};
var _wpmejsSettings = {"pluginPath":"\/wp-includes\/js\/mediaelement\/"};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/mediaelement/mediaelement-and-player.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/mediaelement/wp-mediaelement.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var _wpMediaViewsL10n = {"url":"URL","addMedia":"Add Media","search":"Search","select":"Select","cancel":"Cancel","update":"Update","replace":"Replace","remove":"Remove","back":"Back","selected":"%d selected","dragInfo":"Drag and drop to reorder media files.","uploadFilesTitle":"Upload Files","uploadImagesTitle":"Upload Images","mediaLibraryTitle":"Media Library","insertMediaTitle":"Insert Media","createNewGallery":"Create a new gallery","createNewPlaylist":"Create a new playlist","createNewVideoPlaylist":"Create a new video playlist","returnToLibrary":"\u2190 Return to library","allMediaItems":"All media items","allDates":"All dates","noItemsFound":"No items found.","insertIntoPost":"Use this image","unattached":"Unattached","trash":"Trash","uploadedToThisPost":"Uploaded to this post","warnDelete":"You are about to permanently delete this item from your site.\nThis action cannot be undone.\n 'Cancel' to stop, 'OK' to delete.","warnBulkDelete":"You are about to permanently delete these items from your site.\nThis action cannot be undone.\n 'Cancel' to stop, 'OK' to delete.","warnBulkTrash":"You are about to trash these items.\n  'Cancel' to stop, 'OK' to delete.","bulkSelect":"Bulk Select","cancelSelection":"Cancel Selection","trashSelected":"Trash Selected","untrashSelected":"Untrash Selected","deleteSelected":"Delete Selected","deletePermanently":"Delete Permanently","apply":"Apply","filterByDate":"Filter by date","filterByType":"Filter by type","searchMediaLabel":"Search Media","searchMediaPlaceholder":"Search media items...","noMedia":"No media files found.","attachmentDetails":"Attachment Details","insertFromUrlTitle":"Insert from URL","setFeaturedImageTitle":"Featured Image","setFeaturedImage":"Set featured image","createGalleryTitle":"Create Gallery","editGalleryTitle":"Edit Gallery","cancelGalleryTitle":"\u2190 Cancel Gallery","insertGallery":"Insert gallery","updateGallery":"Update gallery","addToGallery":"Add to gallery","addToGalleryTitle":"Add to Gallery","reverseOrder":"Reverse order","imageDetailsTitle":"Image Details","imageReplaceTitle":"Replace Image","imageDetailsCancel":"Cancel Edit","editImage":"Edit Image","chooseImage":"Choose Image","selectAndCrop":"Select and Crop","skipCropping":"Skip Cropping","cropImage":"Crop Image","cropYourImage":"Crop your image","cropping":"Cropping\u2026","suggestedDimensions":"Suggested image dimensions: %1$s by %2$s pixels.","cropError":"There has been an error cropping your image.","audioDetailsTitle":"Audio Details","audioReplaceTitle":"Replace Audio","audioAddSourceTitle":"Add Audio Source","audioDetailsCancel":"Cancel Edit","videoDetailsTitle":"Video Details","videoReplaceTitle":"Replace Video","videoAddSourceTitle":"Add Video Source","videoDetailsCancel":"Cancel Edit","videoSelectPosterImageTitle":"Select Poster Image","videoAddTrackTitle":"Add Subtitles","playlistDragInfo":"Drag and drop to reorder tracks.","createPlaylistTitle":"Create Audio Playlist","editPlaylistTitle":"Edit Audio Playlist","cancelPlaylistTitle":"\u2190 Cancel Audio Playlist","insertPlaylist":"Insert audio playlist","updatePlaylist":"Update audio playlist","addToPlaylist":"Add to audio playlist","addToPlaylistTitle":"Add to Audio Playlist","videoPlaylistDragInfo":"Drag and drop to reorder videos.","createVideoPlaylistTitle":"Create Video Playlist","editVideoPlaylistTitle":"Edit Video Playlist","cancelVideoPlaylistTitle":"\u2190 Cancel Video Playlist","insertVideoPlaylist":"Insert video playlist","updateVideoPlaylist":"Update video playlist","addToVideoPlaylist":"Add to video playlist","addToVideoPlaylistTitle":"Add to Video Playlist","settings":{"tabs":[],"tabUrl":"https:\/\/www.ultimatebattle.in\/wp-admin\/media-upload.php?chromeless=1","mimeTypes":{"image":"Images","audio":"Audio","video":"Video"},"captions":true,"nonce":{"sendToEditor":"ddd3a9498a","wpRestApi":"706bb673cb"},"post":{"id":0},"defaultProps":{"link":"file","align":"","size":""},"attachmentCounts":{"audio":1,"video":1},"oEmbedProxyUrl":"https:\/\/www.ultimatebattle.in\/wp-json\/oembed\/1.0\/proxy","embedExts":["mp3","ogg","m4a","wav","mp4","m4v","webm","ogv","flv"],"embedMimes":{"mp3":"audio\/mpeg","ogg":"audio\/ogg","m4a":"audio\/mpeg","wav":"audio\/wav","mp4":"video\/mp4","m4v":"video\/mp4","webm":"video\/webm","ogv":"video\/ogg","flv":"video\/x-flv"},"contentWidth":null,"months":[{"year":"2023","month":"3","text":"March 2023"},{"year":"2023","month":"2","text":"February 2023"},{"year":"2023","month":"1","text":"January 2023"},{"year":"2022","month":"12","text":"December 2022"},{"year":"2022","month":"11","text":"November 2022"},{"year":"2022","month":"10","text":"October 2022"},{"year":"2022","month":"9","text":"September 2022"},{"year":"2022","month":"8","text":"August 2022"},{"year":"2022","month":"7","text":"July 2022"},{"year":"2022","month":"6","text":"June 2022"},{"year":"2022","month":"5","text":"May 2022"},{"year":"2022","month":"4","text":"April 2022"},{"year":"2022","month":"3","text":"March 2022"},{"year":"2022","month":"2","text":"February 2022"},{"year":"2022","month":"1","text":"January 2022"},{"year":"2021","month":"12","text":"December 2021"},{"year":"2021","month":"11","text":"November 2021"},{"year":"2021","month":"10","text":"October 2021"},{"year":"2021","month":"9","text":"September 2021"},{"year":"2021","month":"8","text":"August 2021"},{"year":"2021","month":"7","text":"July 2021"},{"year":"2021","month":"6","text":"June 2021"},{"year":"2021","month":"5","text":"May 2021"},{"year":"2021","month":"4","text":"April 2021"},{"year":"2021","month":"3","text":"March 2021"},{"year":"2021","month":"2","text":"February 2021"},{"year":"2021","month":"1","text":"January 2021"},{"year":"2020","month":"12","text":"December 2020"},{"year":"2020","month":"11","text":"November 2020"},{"year":"2020","month":"10","text":"October 2020"},{"year":"2020","month":"9","text":"September 2020"},{"year":"2020","month":"8","text":"August 2020"},{"year":"2020","month":"7","text":"July 2020"},{"year":"2020","month":"6","text":"June 2020"},{"year":"2020","month":"5","text":"May 2020"},{"year":"2020","month":"4","text":"April 2020"},{"year":"2020","month":"3","text":"March 2020"},{"year":"2020","month":"2","text":"February 2020"},{"year":"2020","month":"1","text":"January 2020"},{"year":"2019","month":"12","text":"December 2019"},{"year":"2019","month":"11","text":"November 2019"},{"year":"2019","month":"10","text":"October 2019"},{"year":"2019","month":"9","text":"September 2019"},{"year":"2019","month":"7","text":"July 2019"},{"year":"2019","month":"6","text":"June 2019"},{"year":"2019","month":"5","text":"May 2019"},{"year":"2019","month":"4","text":"April 2019"},{"year":"2019","month":"3","text":"March 2019"},{"year":"2019","month":"2","text":"February 2019"},{"year":"2019","month":"1","text":"January 2019"},{"year":"2018","month":"12","text":"December 2018"},{"year":"2018","month":"11","text":"November 2018"},{"year":"2018","month":"10","text":"October 2018"},{"year":"2018","month":"9","text":"September 2018"},{"year":"2018","month":"8","text":"August 2018"},{"year":"2018","month":"7","text":"July 2018"},{"year":"2018","month":"6","text":"June 2018"},{"year":"2018","month":"5","text":"May 2018"},{"year":"2018","month":"4","text":"April 2018"},{"year":"2018","month":"3","text":"March 2018"},{"year":"2018","month":"2","text":"February 2018"},{"year":"2018","month":"1","text":"January 2018"},{"year":"2017","month":"12","text":"December 2017"},{"year":"2017","month":"11","text":"November 2017"},{"year":"2017","month":"10","text":"October 2017"},{"year":"2017","month":"9","text":"September 2017"},{"year":"2017","month":"8","text":"August 2017"},{"year":"2017","month":"7","text":"July 2017"},{"year":"2017","month":"6","text":"June 2017"},{"year":"2017","month":"5","text":"May 2017"},{"year":"2017","month":"4","text":"April 2017"},{"year":"2017","month":"3","text":"March 2017"},{"year":"2017","month":"2","text":"February 2017"},{"year":"2017","month":"1","text":"January 2017"},{"year":"2016","month":"12","text":"December 2016"},{"year":"2016","month":"11","text":"November 2016"},{"year":"2016","month":"10","text":"October 2016"},{"year":"2016","month":"9","text":"September 2016"},{"year":"2016","month":"8","text":"August 2016"},{"year":"2016","month":"7","text":"July 2016"},{"year":"2016","month":"6","text":"June 2016"},{"year":"2016","month":"5","text":"May 2016"},{"year":"2016","month":"4","text":"April 2016"},{"year":"2016","month":"3","text":"March 2016"},{"year":"2016","month":"2","text":"February 2016"},{"year":"2016","month":"1","text":"January 2016"},{"year":"2015","month":"12","text":"December 2015"},{"year":"2015","month":"11","text":"November 2015"},{"year":"2015","month":"10","text":"October 2015"},{"year":"2015","month":"9","text":"September 2015"},{"year":"2015","month":"8","text":"August 2015"},{"year":"2015","month":"3","text":"March 2015"},{"year":"2015","month":"2","text":"February 2015"}],"mediaTrash":0}};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/media-views.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/media-editor.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/media-audiovideo.min.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-content/plugins/wp-social-sharing/static/socialshare.js'></script>
<script type='text/javascript' src='https://www.ultimatebattle.in/wp-includes/js/wp-embed.min.js'></script>



<!-- Login failed message -->

<!-- modal - how to play -->
<div id="how_to_play_modal" class="modal fade" tabindex="-1" role="dialog">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h2>How to play <span>Free Fire Max</span></h2>
			</div>
			<div class="modal-body">
				<div>
					<ul class="tabs tabcontent">
						<li><a href="#gamePlay">Tournament</a></li>
						<li><a href="#challengePlay">Challenges</a></li>
											</ul>

					<div id="gamePlay" class="tab-display">
						<p><img class="alignnone size-full wp-image-22211" src="https://www.ultimatebattle.in/wp-content/uploads/2019/09/free-fire-HOW-TO-PLAY-TOURNAMENT-1.jpg" /><img class="alignnone size-full wp-image-22212" src="https://www.ultimatebattle.in/wp-content/uploads/2019/09/free-fire-HOW-TO-PLAY-TOURNAMENT-2.jpg" /><img class="alignnone size-full wp-image-22213" src="https://www.ultimatebattle.in/wp-content/uploads/2019/09/free-fire-HOW-TO-PLAY-TOURNAMENT-3.jpg" /></p>
					</div>

					<div id="challengePlay" class="tab-display">
											</div>

									</div>
			</div>
		</div>
	</div>
</div>

<!-- modal - challenge pop -->
<div class="modal fade" id="challengePop" tabindex="-1" role="dialog" aria-labelledby="challengePopTitle" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div id="challengePopFormWrap" class="modal-content"></div>
	</div>
</div>

<!-- modal - Challenge result -->
<div id="challengeResultModal" class="modal fade _winnermodel" role="dialog" area-hidden="true" data-backdrop="static">
	<div class="modal-dialog modal-dialog-centered">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-body">
				<h3></h3>
				<figure>
					<img src="" alt="" class="crm-game-banner" /> <span class="_gmlogo"> <img src="" alt="Warriors" class="crm-game-logo" /></span>
				</figure>
				<div class="winner-users">
					<ul>
						<li class="player1-data">
							<figure>
								<img src="" alt="" class="" onerror="this.src='https://www.ultimatebattle.in/wp-content/themes/blackfyre/img/defaults/default-profile.jpg'">
							</figure>
							<h4></h4>
							<div class="_winpoints"></div>
						</li>
						<li class="mid">Scores <span></span></li>
						<li class="player2-data">
							<figure><img src="" alt="" class=""></figure>
							<h4></h4>
							<div class="_winpoints"></div>
						</li>
					</ul>
				</div>
				<div class="_ubshares">
					<!-- <a href="#" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a>
					<a href="#" target="_blank"><i class="fa fa-instagram" aria-hidden="true"></i></a>
					<a href="#" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a> -->
					<span class="_cbtn">
						<button type="button" class="close" data-dismiss="modal">Close</button>
					</span>
				</div>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
	const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
	jQuery(function(){
		let issueReported = ""
		if (issueReported) {
			jQuery("#alertModal .alert-modal-content").html('<p class="alert success" style="margin-bottom: 0"><i class="fa fa-check-circle"></i> '+issueReported+'</p>')
			jQuery("#alertModal").modal('show')
		}

		jQuery(window).scroll(function() {
			var scroll = jQuery(window).scrollTop()
			if (scroll >= 160) {
				jQuery(".headersection").addClass("darkHeader")
			} else {
				jQuery(".headersection").removeClass("darkHeader")
			}
		})

		jQuery(window).scroll(function() {
			var scroll = jQuery(window).scrollTop()
			if (scroll >= 650) {
				jQuery("#game_page_tournaments").addClass("sticky_header")
			} else {
				jQuery("#game_page_tournaments").removeClass("sticky_header")
			}
		})

		jQuery('.g-changer').click(function(){
			jQuery('.game-select').toggle()
		})

		jQuery('html').click(function(event) {
			if (0 === jQuery(event.target).closest('.gm-link-wp').length) {
				jQuery('.game-select').hide()
			}
		})

		jQuery('._mbNav').click(function(){
			jQuery('.rt-nav ul').toggleClass('m4')
		})

		jQuery('html').click(function(event) {
			if (0 === jQuery(event.target).closest('.container').length) {
				jQuery('.rt-nav ul').removeClass('m4')
			}
		})

		jQuery("#header-game-switch").on('change', function(){
			window.location.href = jQuery(this).val()
		})

		jQuery('ul.lobbytabs li').click(function(){
			var tab_id = jQuery(this).attr('data-tab')
			jQuery('ul.lobbytabs li').removeClass('current')
			jQuery('.tab-content').removeClass('current')
			jQuery(this).addClass('current')
			jQuery("#"+tab_id).addClass('current')
		})

		// tab
		jQuery('#horizontalTab').easyResponsiveTabs({
			type: 'default', //Types: default, vertical, accordion           
			width: 'auto', //auto or any width like 600px
			fit: true,   // 100% fit in a container
			closed: 'accordion', // Start closed if in accordion view
			activate: function(event) { // Callback function if tab is switched
				var $tab = jQuery(this)
				var $info = jQuery('#tabInfo')
				var $name = jQuery('span', $info)
				$name.text($tab.text())
				$info.show()
			}
		})
	
		jQuery('#table').basictable()
		jQuery('#table-completed-tournaments').basictable()
		jQuery('#table-related-tournaments').basictable()
		// /tab

		jQuery('#slider').nivoSlider()

		jQuery("#chosegame").owlCarousel({
			items :4,
			lazyLoad : true,
			autoPlay : true,
			navigation : true
		})

		jQuery("#leaderboard").owlCarousel({
			items :2,
			lazyLoad : true,
			autoPlay : false,
			navigation : true
		})

		jQuery("#recent-blog").owlCarousel({
			items :3,
			lazyLoad : true,
			autoPlay : true,
			navigation : false
		})

		jQuery("input[name='mobile_number']").keypress(function(e){
			var key = e.which;
			if (key == 13) {
				getAppLink()
			}
		})

		jQuery('#cssmenu').meanmenu()

		jQuery('.gameNavigation').click(function(){
			jQuery('.games-navigation').toggleClass('game-nav-active')
		})

		// ul tabs
		jQuery('ul.tabs').each(function(){
			// For each set of tabs, we want to keep track of
			// which tab is active and its associated content
			var $active, $content, $links = jQuery(this).find('a')

			// If the location.hash matches one of the links, use that as the active tab.
			// If no match is found, use the first link as the initial active tab.
			$active = jQuery($links.filter('[href="'+location.hash+'"]')[0] || $links[0])
			$active.addClass('active')
			$content = jQuery($active[0].hash)

			// Hide the remaining content
			$links.not($active).each(function () {
				jQuery(this.hash).hide()
			})

			// Bind the click event handler
			jQuery(this).on('click', 'a', function(e){
				// Make the old tab inactive.
				$active.removeClass('active')
				$content.hide()

				// Update the variables with the new link and content
				$active = jQuery(this)
				$content = jQuery(this.hash)

				// Make the tab active.
				$active.addClass('active')
				$content.show()

				// Prevent the anchor's default click action
				e.preventDefault()
			})
		})

		jQuery("._ubnc").on('click', function(){
			if (jQuery("._bell-notif-box").is(":hidden")) {
				jQuery("._bell-notif-box").slideDown(function(){
					jQuery("._ubnc").addClass('active')
				})		
			}
		})

		jQuery(document).mouseup(function(e){
			let container = jQuery("._bell-notif-box");
			// if the target of the click isn't the container nor a descendant of the container
			if (!container.is(e.target) && container.has(e.target).length === 0) {
				container.slideUp(function(){
					jQuery("._ubnc").removeClass('active')
				})
			}
		})

		/*jQuery("._bell-notif-box ul li ._mar").toggle(
			function(){
				jQuery(this).removeClass('unread')
				jQuery(this).attr('title', 'Mark as unread')
				jQuery(this).parents('li').removeClass('unread')
			},
			function(){
				jQuery(this).addClass('unread')
				jQuery(this).attr('title', 'Mark as read')
				jQuery(this).parents('li').addClass('unread')
			}
		);*/

		jQuery(document).on("click", "._bell-notif-box ul li ._mar.unread", function(){
			$this = jQuery(this)
			markRead($this)
			jQuery.get(
				`${themeDir}ajax.php`,
				{
					action: 'mark_as_read',
					notification: $this.parents('li').data('notification'),
					media: $this.parents('li').data('media')
				},
				function(response) {
					if (response != 'success') {
						markUnread($this)
					}
				}
			)
		})

		jQuery("._bell-notif-box ul li a").on('click', function(){
			$this = jQuery(this)
			$this.find('._mar').removeClass('unread')
			$this.find('._mar').addClass('read')
			$this.find('._mar').attr('title', 'Mark as unread')
			$this.parents('li').removeClass('unread')
			$this.parents('li').addClass('read')

			if (jQuery("._ubnc i").find("._hnc16").length > 0) {
				var num = Number(jQuery("._ubnc i ._hnc16").text())
				var newNum = num - 1
				newNum = (newNum < 1) ? 0 : newNum
				if (0 == newNum)
					jQuery("._ubnc i ._hnc16").remove()
				else
					jQuery("._ubnc i ._hnc16").text(num - 1)
			} else {
				jQuery("._ubnc i").append('<span class="_hnc16">1</span>')
			}

			jQuery.get(
				`${themeDir}ajax.php`,
				{
					action: 'mark_as_read',
					notification: $this.parents('li').data('notification'),
					media: $this.parents('li').data('media')
				},
				function(response) {
					if ('success' != response) {
						markUnread($this)
					}
				}
			)
		})

		jQuery(document).on("click", "._bell-notif-box ul li ._mar.read", function(){
			$this = jQuery(this);
			markUnread($this);
			jQuery.get(
				themeDir+'ajax.php',
				{action: 'mark_as_unread', notification: $this.parents('li').data('notification'), media: $this.parents('li').data('media')},
				function(response) {
					if (response != 'success') {
						markRead($this);
					}
				}
				);
		})

		jQuery(".game-menu-trigger").toggle(
			function(){
				jQuery(".games-navigation").slideDown();
			},
			function(){
				jQuery(".games-navigation").slideUp();
			}
		)

		/*jQuery("._gpsn-challenge-lobby.has-children").toggle(
			function(){
				jQuery("._gpsn-challenge-lobby.has-children .sub-sub-menu").slideDown();
			},
			function(){
				jQuery("._gpsn-challenge-lobby.has-children .sub-sub-menu").slideUp();
			}
		);*/

		jQuery(document).on('click', '._sif', function(e){
			// jQuery("._sif").on('click', function(e){
			e.preventDefault();

            let regFlow = 'new'
			
            if ('new' == regFlow) {
                displayUserRegistrationModal()
                return
            }

            jQuery('html, body').animate({ scrollTop: 0 }, 'slow', function () {
                jQuery(".ub-login-drop").show();
            });
		})

		jQuery('.ub_signup > button._hlrt').click(function(){
			jQuery('.ub-login-drop').toggle();
		});
		jQuery('html').click(function(event) {
			if (jQuery(event.target).closest('.ub_signup').length === 0) {
				jQuery('.ub-login-drop').hide();
			}
		})

		// redeem coins
		const redeemCoins = $button => {
			let inGameId
			if (0 == jQuery('#ingameid').length) {
				inGameId = 'na'
			} else {
				$inGameIdField = jQuery('#ingameid')
				inGameId = $inGameIdField.val().trim()
			}

			if (!inGameId) {
				if ($inGameIdField.closest('div').find('.redeem-error').length > 0) {
					$inGameIdField.closest('div').find('.redeem-error').html(`<i class="fa fa-warning"></i> Please enter In-Game ID`)
					return false
				}

				$inGameIdField.closest('div').append(`<p class="redeem-error error"><i class="fa fa-warning"></i> Please enter In-Game ID</p>`)
				return false
			}

			$button.html(loadingSpinner(15))

			let product = $button.val()
			let quantity = +$button.parent().find("input[name='quantity']").val()

            const data = {
                action: 'redeem_product',
                user: currentUserId,
                product,
                quantity,
                ingameid: inGameId
            };

			jQuery.post(
				`${themeDir}ajax.php`,
				data,
				function(response) {
                    // {"result":true,"error":"","order_id":34427,"message":"Redeemed successfully."}
                    console.log(response)
					response = JSON.parse(response)
                    console.log(response)
					$button.text('Redeem')

					if ('not_an_active_subscriber' == response.error) {
						jQuery('#buySubscriptionModal').modal('show')
						if (response.message) {
							const $wrap = jQuery('#buySubscriptionModal .play-subs-info')
							if ($wrap.find('._sem').length == 0)
								$wrap.prepend(`<p class="_sem alert alert-danger"><i class="fa fa-warning"></i> ${response.message}</p>`)
							else
								$wrap.find('._sem').html(`<i class="fa fa-warning"></i> ${response.message}`)
						}
						return
					}

					let modalText = `<h5 class="${response.result ? 'success' : 'error'} text-center"><i class="fa fa-${response.result ? 'check' : 'warning'}"></i> ${response.message}</h5>`
					if (response.result) modalText += `<p class="text-center" style="color: #555">Check delivery status in My Orders</p>`
					jQuery("#alertModal .modal-body-ub").html(modalText)
					jQuery("#alertModal").modal('show')
				}

			)
		}

		jQuery(".single-redeem-button").on('click', function(){
			redeemCoins(jQuery(this))
		})
	});

	(function($) {
		jQuery(document).ready(function() {
			jQuery('.mobileMenu').click(function(){
				jQuery('.gm_navs').slideToggle();
			});
			
			jQuery('.nvbar__').click(function(){
				jQuery('.menu-ues-main-menu-container').toggleClass('OP');
			});
			
			/*jQuery('#cssmenu').prepend('<div id="menu-button">Menu</div>');
			jQuery('#cssmenu #menu-button').on('click', function(){
				var menu = jQuery(this).next('ul');
				if (menu.hasClass('open')) {
					menu.removeClass('open');
				} else {
					menu.addClass('open');
				}
			});*/
			jQuery('.user-dashboard-profile-inforamation').hover(
				function () {
					jQuery('.dashboard-game-pre').stop().slideDown(200);
				},
				function () {
					jQuery('.dashboard-game-pre').stop().slideUp(200);
				}
			);
			jQuery('.user-login-profile').hover(
				function () {
					jQuery('.usr-dash-sblist').stop().slideDown(200);
				},
				function () {
					jQuery('.usr-dash-sblist').stop().slideUp(200);
				}
			);
		});
	})(jQuery);
	
	function participateLedaderBoard(game_id,leaderboardid,user_id) {
		// alert(themeDir);
		// themeDir+'ajax.php',
		jQuery.ajax({
			type: "GET",
			url: `${themeDir}ajax.php?action=joinclicktoenterledaderboard&game_id=${game_id}&leaderboardid=${leaderboardid}&user_id=${user_id}`,
			success: function(response) {
				if (response) { location.reload(); }
			}
		});
	}

	function markRead(target) {
		target.removeClass('unread');
		target.addClass('read');
		target.attr('title', 'Mark as unread');
		target.parents('li').removeClass('unread');
		target.parents('li').addClass('read');
		if (jQuery("._ubnc i").find("._hnc16").length > 0) {
			var num = Number(jQuery("._ubnc i ._hnc16").text());
			var newNum = num - 1;
			newNum = (newNum < 1) ? 0 : newNum;
			if (newNum == 0) {
				jQuery("._ubnc i ._hnc16").remove();
			} else {
				jQuery("._ubnc i ._hnc16").text(num - 1);
			}
		} else {
			jQuery("._ubnc i").append('<span class="_hnc16">1</span>');
		}
	}

	function markUnread(target) {
		target.removeClass('read');
		target.addClass('unread');
		target.attr('title', 'Mark as read');
		target.parents('li').removeClass('read');
		target.parents('li').addClass('unread');
		if (jQuery("._ubnc i").find("._hnc16").length > 0) {
			var num = Number(jQuery("._ubnc i ._hnc16").text());
			jQuery("._ubnc i ._hnc16").text(num + 1);
		} else {
			jQuery("._ubnc i").append('<span class="_hnc16">1</span>');
		}
	}

	function getAppLink() {
		let $mobile = jQuery("input[name='mobile_number']")
		const mobileNumber = $mobile.val().trim()

		if (0 == mobileNumber.length) {
			jQuery(".mobile-number-error").css('color', 'red')
			jQuery(".mobile-number-error").html(`<i class='fa fa-warning'></i> Please input mobile number`)
			jQuery(".mobile-number-error").fadeIn()
			return
		}

		if (!mobileNumber.match(/^[0-9]{10}$/)) {
			jQuery(".mobile-number-error").css('color', 'red')
			jQuery(".mobile-number-error").html(`<i class='fa fa-warning'></i> Invalid mobile number`)
			jQuery(".mobile-number-error").fadeIn()
			return
		}

		jQuery(".mobile-number-error").css('color', '#777')
		jQuery(".mobile-number-error").html(`${loadingSpinner(15)} Sending app link...`)
		jQuery(".mobile-number-error").fadeIn()

		jQuery.post(
			`${themeDir}ajax.php`,
			{action: 'send_app_link', mobile: mobileNumber},
			function(response) {
				if ('success' != response) {
					jQuery(".mobile-number-error").css('color', 'red')
					jQuery(".mobile-number-error").html(`<i class='fa fa-times'></i> Sending app link failed, please try again.`)
					jQuery(".mobile-number-error").fadeIn()
					return
				}

				jQuery(".mobile-number-error").css('color', 'green')
				jQuery(".mobile-number-error").html(`<i class='fa fa-check'></i> App link sent successfully.`);
				jQuery(".mobile-number-error").fadeIn()
				jQuery("input[name='mobile_number']").val("")
				jQuery(".mobile-number-error").delay(6000).fadeOut(3000)
			}
		);
	}

	function playBeep() {
		const sound = new window.Audio(notificationSound);
		sound.play();
	}

	function validateReportIssueFooterForm() {
		$issueType = jQuery("#riFormFooter select[name='issue_type']");
		if (!$issueType.val()) {
			if ($issueType.parent().find(".error").length == 0) {
				$issueType.parent().append('<p class="error"><small><i class="fa fa-warning"></i> Please select issue type</small></p>');                
			} else {
				$issueType.parent().find(".error").html('<small><i class="fa fa-warning"></i> Please select issue type</small>');
			}
			return false;
		} else {
			$issueType.parent().find(".error").remove();
			return true;
		}
	}
</script>

	<script>
		jQuery(function(){
			// jQuery("#SiSuModal").modal('show');
			jQuery(".sisu-tab").on('click', function(e){
				e.preventDefault();
				let divID = jQuery(this).attr('href');
				jQuery(`.sisu-tabs ul li a`).removeClass('active');
				jQuery(`.sisu-tabs ul li a[href="${divID}"]`).addClass('active');
				// jQuery(this).addClass('active');
				jQuery(".sisu-tab-content").hide();
				jQuery(divID).show();
			});
			jQuery(".sisu-trigger").on('click', function(e){
				e.preventDefault();
				jQuery("#SiSuModal").modal('show');
			});
		});

		function validateLoginForm() {
			var res = true;
			var username = jQuery("input[name='log']").val();
			var password = jQuery("input[name='pwd']").val();
			if (username.length == 0) {
				jQuery("input[name='log']").parent().next('.reg-error').text('Please enter username.');
				res = false;
			} else {
				jQuery("input[name='log']").parent().next('.reg-error').text('');
			}
			if (password.length == 0) {
				jQuery("input[name='pwd']").parent().next('.reg-error').text('Please enter password.');
				res = false;
			} else {
				jQuery("input[name='pwd']").parent().next('.reg-error').text('');
			}
			return res;
		}
	</script>

<link rel='stylesheet'  href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css' media='all' />

<script>
	jQuery(window).ready(function(){
		if (ues) return
		var userLoggedIn = ;
		if(userLoggedIn){
			window.localStorage.removeItem('user_sidebar')
		}
		let userSidebarStatus = window.localStorage.getItem('user_sidebar')
		if (isUserLoggedIn && !userSidebarStatus) userSidebarStatus = 'open'
		const $wrapper = jQuery('body > .wrapper')
		const $userSidebar = jQuery('._udb-wrap')
		const subDomain = "main"
		if ('aiel' == subDomain) userSidebarStatus = 'close'
		if (userSidebarStatus == 'open') {
			$wrapper.addClass('web')
			$userSidebar.removeClass('activeM')
		} else {
			$wrapper.removeClass('web')
			$userSidebar.addClass('activeM')
		}
		jQuery('.dwnloand-apk').click(function(){
			jQuery('.ub-apk-app').addClass('open');								   
		});
		jQuery('.ub-apk-app button').click(function(){
			jQuery('.ub-apk-app').removeClass('open');								   
		});
	});
</script>

</body>
</html>
